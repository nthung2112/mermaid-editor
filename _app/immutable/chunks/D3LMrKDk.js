const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./SEM66oaN.js","./DsnmJJEf.js","./njQim-7p.js","./q4oqC-rv.js","../assets/FontAwesomeCSS.Bmukiilo.css"])))=>i.map(i=>d[i]);
import"./DsnmJJEf.js";import{b9 as Zi,b as Hi,h as ve,c as Ui,ba as Wn,H as qi,j as Gi,k as Bi,l as Yn,U as Xn,au as Xe,ad as $n,v as jn,Y as Wi,g as Yi,af as Qn,bb as Kn,bc as Jn,M as Xi,m as $i,e as ji,i as $e,ai as Qi,_ as Ki,A as Ji,p as Ur,C as ts,D as qr,t as Gr,a as Br,z as ft,o as es,q as ns,K as rs,x as Lt,ak as ye,I as is,F as ss,G as os,P as tr}from"./q4oqC-rv.js";import{bx as as,aN as Wr,by as ls,aW as us,aV as hs,bz as cs,bA as fs,bB as ps,bd as ds,bC as er}from"./CoLLUv6L.js";import{_ as ms,p as nr,b as rr}from"./SjIMliUn.js";import{s as gs,a as ir,b as vs}from"./lxs-GgJb.js";import{i as ys}from"./njQim-7p.js";import{u as bs}from"./Fl46uU4x.js";const je=0,be=1,Qe=2;function xs(n,t,e,r,i){ve&&Ui();var s=n,l=Zi(),a=Xi,u=Xn,h,o,c,f=l?$n(void 0):jn(void 0,!1,!1),p=l?$n(void 0):jn(void 0,!1,!1),v=!1;function g(w,T){v=!0,T&&(Qn(b),Kn(b),Jn(a));try{w===be&&r&&(o?$i(o):o=ji(()=>r(s,f))),w!==je&&h&&$e(h,()=>h=null),w!==be&&o&&$e(o,()=>o=null),w!==Qe&&c&&$e(c,()=>c=null)}finally{T&&(Jn(null),Kn(null),Qn(null),Qi())}}var b=Hi(()=>{if(u===(u=t()))return;let w=ve&&Wn(u)===(s.data===qi);if(w&&(s=Gi(),Bi(s),Yn(!1),w=!0),Wn(u)){var T=u;v=!1,T.then(O=>{T===u&&(Xe(f,O),g(be,!0))},O=>{if(T===u)throw Xe(p,O),g(Qe,!0),p.v}),ve||Wi(()=>{v||g(je,!0)})}else Xe(f,u),g(be,!1);return w&&Yn(!0),()=>u=Xn});ve&&(s=Yi)}function ws(n,t,e){var r=Ki(n,t);r&&r.set&&(n[t]=e,Ji(()=>{n[t]=null}))}let re=!0,Yr,Se,Xr;const Ts=1e3,Es=150,$r=as(()=>{re=!0,Yr()},Ts),Ms=(n,t)=>{Xr?.(),Yr=t;const e=n>Es;re||$r(),re=!e},Ss=()=>(Se||(Se=new Promise(n=>{Xr=()=>{Se=void 0,n()}})),re||$r(),re),ca=()=>Se??Promise.resolve();var Ke={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */var sr;function _s(){return sr||(sr=1,(function(n){(function(t,e,r,i){var s=["","webkit","Moz","MS","ms","o"],l=e.createElement("div"),a="function",u=Math.round,h=Math.abs,o=Date.now;function c(d,m,y){return setTimeout(O(d,y),m)}function f(d,m,y){return Array.isArray(d)?(p(d,y[m],y),!0):!1}function p(d,m,y){var x;if(d)if(d.forEach)d.forEach(m,y);else if(d.length!==i)for(x=0;x<d.length;)m.call(y,d[x],x,d),x++;else for(x in d)d.hasOwnProperty(x)&&m.call(y,d[x],x,d)}function v(d,m,y){var x="DEPRECATED METHOD: "+m+`
`+y+` AT 
`;return function(){var M=new Error("get-stack-trace"),S=M&&M.stack?M.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",L=t.console&&(t.console.warn||t.console.log);return L&&L.call(t.console,x,S),d.apply(this,arguments)}}var g;typeof Object.assign!="function"?g=function(m){if(m===i||m===null)throw new TypeError("Cannot convert undefined or null to object");for(var y=Object(m),x=1;x<arguments.length;x++){var M=arguments[x];if(M!==i&&M!==null)for(var S in M)M.hasOwnProperty(S)&&(y[S]=M[S])}return y}:g=Object.assign;var b=v(function(m,y,x){for(var M=Object.keys(y),S=0;S<M.length;)(!x||x&&m[M[S]]===i)&&(m[M[S]]=y[M[S]]),S++;return m},"extend","Use `assign`."),w=v(function(m,y){return b(m,y,!0)},"merge","Use `assign`.");function T(d,m,y){var x=m.prototype,M;M=d.prototype=Object.create(x),M.constructor=d,M._super=x,y&&g(M,y)}function O(d,m){return function(){return d.apply(m,arguments)}}function _(d,m){return typeof d==a?d.apply(m&&m[0]||i,m):d}function D(d,m){return d===i?m:d}function P(d,m,y){p(W(m),function(x){d.addEventListener(x,y,!1)})}function N(d,m,y){p(W(m),function(x){d.removeEventListener(x,y,!1)})}function C(d,m){for(;d;){if(d==m)return!0;d=d.parentNode}return!1}function R(d,m){return d.indexOf(m)>-1}function W(d){return d.trim().split(/\s+/g)}function U(d,m,y){if(d.indexOf&&!y)return d.indexOf(m);for(var x=0;x<d.length;){if(y&&d[x][y]==m||!y&&d[x]===m)return x;x++}return-1}function z(d){return Array.prototype.slice.call(d,0)}function F(d,m,y){for(var x=[],M=[],S=0;S<d.length;){var L=d[S][m];U(M,L)<0&&x.push(d[S]),M[S]=L,S++}return x=x.sort(function(J,nt){return J[m]>nt[m]}),x}function H(d,m){for(var y,x,M=m[0].toUpperCase()+m.slice(1),S=0;S<s.length;){if(y=s[S],x=y?y+M:m,x in d)return x;S++}return i}var X=1;function $(){return X++}function q(d){var m=d.ownerDocument||d;return m.defaultView||m.parentWindow||t}var tt=/mobile|tablet|ip(ad|hone|od)|android/i,Z="ontouchstart"in t,G=H(t,"PointerEvent")!==i,rt=Z&&tt.test(navigator.userAgent),ut="touch",It="pen",Zt="mouse",De="kinect",Le=25,et=1,Rt=2,j=4,it=8,ae=1,Gt=2,Bt=4,Wt=8,Yt=16,yt=Gt|Bt,Vt=Wt|Yt,An=yt|Vt,Cn=["x","y"],le=["clientX","clientY"];function ht(d,m){var y=this;this.manager=d,this.callback=m,this.element=d.element,this.target=d.options.inputTarget,this.domHandler=function(x){_(d.options.enable,[d])&&y.handler(x)},this.init()}ht.prototype={handler:function(){},init:function(){this.evEl&&P(this.element,this.evEl,this.domHandler),this.evTarget&&P(this.target,this.evTarget,this.domHandler),this.evWin&&P(q(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&N(this.element,this.evEl,this.domHandler),this.evTarget&&N(this.target,this.evTarget,this.domHandler),this.evWin&&N(q(this.element),this.evWin,this.domHandler)}};function pi(d){var m,y=d.options.inputClass;return y?m=y:G?m=Fe:rt?m=ce:Z?m=Ze:m=he,new m(d,di)}function di(d,m,y){var x=y.pointers.length,M=y.changedPointers.length,S=m&et&&x-M===0,L=m&(j|it)&&x-M===0;y.isFirst=!!S,y.isFinal=!!L,S&&(d.session={}),y.eventType=m,mi(d,y),d.emit("hammer.input",y),d.recognize(y),d.session.prevInput=y}function mi(d,m){var y=d.session,x=m.pointers,M=x.length;y.firstInput||(y.firstInput=On(m)),M>1&&!y.firstMultiple?y.firstMultiple=On(m):M===1&&(y.firstMultiple=!1);var S=y.firstInput,L=y.firstMultiple,Q=L?L.center:S.center,J=m.center=Nn(x);m.timeStamp=o(),m.deltaTime=m.timeStamp-S.timeStamp,m.angle=ze(Q,J),m.distance=ue(Q,J),gi(y,m),m.offsetDirection=kn(m.deltaX,m.deltaY);var nt=Pn(m.deltaTime,m.deltaX,m.deltaY);m.overallVelocityX=nt.x,m.overallVelocityY=nt.y,m.overallVelocity=h(nt.x)>h(nt.y)?nt.x:nt.y,m.scale=L?bi(L.pointers,x):1,m.rotation=L?yi(L.pointers,x):0,m.maxPointers=y.prevInput?m.pointers.length>y.prevInput.maxPointers?m.pointers.length:y.prevInput.maxPointers:m.pointers.length,vi(y,m);var xt=d.element;C(m.srcEvent.target,xt)&&(xt=m.srcEvent.target),m.target=xt}function gi(d,m){var y=m.center,x=d.offsetDelta||{},M=d.prevDelta||{},S=d.prevInput||{};(m.eventType===et||S.eventType===j)&&(M=d.prevDelta={x:S.deltaX||0,y:S.deltaY||0},x=d.offsetDelta={x:y.x,y:y.y}),m.deltaX=M.x+(y.x-x.x),m.deltaY=M.y+(y.y-x.y)}function vi(d,m){var y=d.lastInterval||m,x=m.timeStamp-y.timeStamp,M,S,L,Q;if(m.eventType!=it&&(x>Le||y.velocity===i)){var J=m.deltaX-y.deltaX,nt=m.deltaY-y.deltaY,xt=Pn(x,J,nt);S=xt.x,L=xt.y,M=h(xt.x)>h(xt.y)?xt.x:xt.y,Q=kn(J,nt),d.lastInterval=m}else M=y.velocity,S=y.velocityX,L=y.velocityY,Q=y.direction;m.velocity=M,m.velocityX=S,m.velocityY=L,m.direction=Q}function On(d){for(var m=[],y=0;y<d.pointers.length;)m[y]={clientX:u(d.pointers[y].clientX),clientY:u(d.pointers[y].clientY)},y++;return{timeStamp:o(),pointers:m,center:Nn(m),deltaX:d.deltaX,deltaY:d.deltaY}}function Nn(d){var m=d.length;if(m===1)return{x:u(d[0].clientX),y:u(d[0].clientY)};for(var y=0,x=0,M=0;M<m;)y+=d[M].clientX,x+=d[M].clientY,M++;return{x:u(y/m),y:u(x/m)}}function Pn(d,m,y){return{x:m/d||0,y:y/d||0}}function kn(d,m){return d===m?ae:h(d)>=h(m)?d<0?Gt:Bt:m<0?Wt:Yt}function ue(d,m,y){y||(y=Cn);var x=m[y[0]]-d[y[0]],M=m[y[1]]-d[y[1]];return Math.sqrt(x*x+M*M)}function ze(d,m,y){y||(y=Cn);var x=m[y[0]]-d[y[0]],M=m[y[1]]-d[y[1]];return Math.atan2(M,x)*180/Math.PI}function yi(d,m){return ze(m[1],m[0],le)+ze(d[1],d[0],le)}function bi(d,m){return ue(m[0],m[1],le)/ue(d[0],d[1],le)}var xi={mousedown:et,mousemove:Rt,mouseup:j},wi="mousedown",Ti="mousemove mouseup";function he(){this.evEl=wi,this.evWin=Ti,this.pressed=!1,ht.apply(this,arguments)}T(he,ht,{handler:function(m){var y=xi[m.type];y&et&&m.button===0&&(this.pressed=!0),y&Rt&&m.which!==1&&(y=j),this.pressed&&(y&j&&(this.pressed=!1),this.callback(this.manager,y,{pointers:[m],changedPointers:[m],pointerType:Zt,srcEvent:m}))}});var Ei={pointerdown:et,pointermove:Rt,pointerup:j,pointercancel:it,pointerout:it},Mi={2:ut,3:It,4:Zt,5:De},In="pointerdown",Rn="pointermove pointerup pointercancel";t.MSPointerEvent&&!t.PointerEvent&&(In="MSPointerDown",Rn="MSPointerMove MSPointerUp MSPointerCancel");function Fe(){this.evEl=In,this.evWin=Rn,ht.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}T(Fe,ht,{handler:function(m){var y=this.store,x=!1,M=m.type.toLowerCase().replace("ms",""),S=Ei[M],L=Mi[m.pointerType]||m.pointerType,Q=L==ut,J=U(y,m.pointerId,"pointerId");S&et&&(m.button===0||Q)?J<0&&(y.push(m),J=y.length-1):S&(j|it)&&(x=!0),!(J<0)&&(y[J]=m,this.callback(this.manager,S,{pointers:y,changedPointers:[m],pointerType:L,srcEvent:m}),x&&y.splice(J,1))}});var Si={touchstart:et,touchmove:Rt,touchend:j,touchcancel:it},_i="touchstart",Ai="touchstart touchmove touchend touchcancel";function Vn(){this.evTarget=_i,this.evWin=Ai,this.started=!1,ht.apply(this,arguments)}T(Vn,ht,{handler:function(m){var y=Si[m.type];if(y===et&&(this.started=!0),!!this.started){var x=Ci.call(this,m,y);y&(j|it)&&x[0].length-x[1].length===0&&(this.started=!1),this.callback(this.manager,y,{pointers:x[0],changedPointers:x[1],pointerType:ut,srcEvent:m})}}});function Ci(d,m){var y=z(d.touches),x=z(d.changedTouches);return m&(j|it)&&(y=F(y.concat(x),"identifier")),[y,x]}var Oi={touchstart:et,touchmove:Rt,touchend:j,touchcancel:it},Ni="touchstart touchmove touchend touchcancel";function ce(){this.evTarget=Ni,this.targetIds={},ht.apply(this,arguments)}T(ce,ht,{handler:function(m){var y=Oi[m.type],x=Pi.call(this,m,y);x&&this.callback(this.manager,y,{pointers:x[0],changedPointers:x[1],pointerType:ut,srcEvent:m})}});function Pi(d,m){var y=z(d.touches),x=this.targetIds;if(m&(et|Rt)&&y.length===1)return x[y[0].identifier]=!0,[y,y];var M,S,L=z(d.changedTouches),Q=[],J=this.target;if(S=y.filter(function(nt){return C(nt.target,J)}),m===et)for(M=0;M<S.length;)x[S[M].identifier]=!0,M++;for(M=0;M<L.length;)x[L[M].identifier]&&Q.push(L[M]),m&(j|it)&&delete x[L[M].identifier],M++;if(Q.length)return[F(S.concat(Q),"identifier"),Q]}var ki=2500,Dn=25;function Ze(){ht.apply(this,arguments);var d=O(this.handler,this);this.touch=new ce(this.manager,d),this.mouse=new he(this.manager,d),this.primaryTouch=null,this.lastTouches=[]}T(Ze,ht,{handler:function(m,y,x){var M=x.pointerType==ut,S=x.pointerType==Zt;if(!(S&&x.sourceCapabilities&&x.sourceCapabilities.firesTouchEvents)){if(M)Ii.call(this,y,x);else if(S&&Ri.call(this,x))return;this.callback(m,y,x)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Ii(d,m){d&et?(this.primaryTouch=m.changedPointers[0].identifier,Ln.call(this,m)):d&(j|it)&&Ln.call(this,m)}function Ln(d){var m=d.changedPointers[0];if(m.identifier===this.primaryTouch){var y={x:m.clientX,y:m.clientY};this.lastTouches.push(y);var x=this.lastTouches,M=function(){var S=x.indexOf(y);S>-1&&x.splice(S,1)};setTimeout(M,ki)}}function Ri(d){for(var m=d.srcEvent.clientX,y=d.srcEvent.clientY,x=0;x<this.lastTouches.length;x++){var M=this.lastTouches[x],S=Math.abs(m-M.x),L=Math.abs(y-M.y);if(S<=Dn&&L<=Dn)return!0}return!1}var zn=H(l.style,"touchAction"),Fn=zn!==i,Zn="compute",Hn="auto",He="manipulation",Dt="none",Xt="pan-x",$t="pan-y",fe=Di();function Ue(d,m){this.manager=d,this.set(m)}Ue.prototype={set:function(d){d==Zn&&(d=this.compute()),Fn&&this.manager.element.style&&fe[d]&&(this.manager.element.style[zn]=d),this.actions=d.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var d=[];return p(this.manager.recognizers,function(m){_(m.options.enable,[m])&&(d=d.concat(m.getTouchAction()))}),Vi(d.join(" "))},preventDefaults:function(d){var m=d.srcEvent,y=d.offsetDirection;if(this.manager.session.prevented){m.preventDefault();return}var x=this.actions,M=R(x,Dt)&&!fe[Dt],S=R(x,$t)&&!fe[$t],L=R(x,Xt)&&!fe[Xt];if(M){var Q=d.pointers.length===1,J=d.distance<2,nt=d.deltaTime<250;if(Q&&J&&nt)return}if(!(L&&S)&&(M||S&&y&yt||L&&y&Vt))return this.preventSrc(m)},preventSrc:function(d){this.manager.session.prevented=!0,d.preventDefault()}};function Vi(d){if(R(d,Dt))return Dt;var m=R(d,Xt),y=R(d,$t);return m&&y?Dt:m||y?m?Xt:$t:R(d,He)?He:Hn}function Di(){if(!Fn)return!1;var d={},m=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(y){d[y]=m?t.CSS.supports("touch-action",y):!0}),d}var pe=1,ct=2,Ht=4,_t=8,Tt=_t,jt=16,bt=32;function Et(d){this.options=g({},this.defaults,d||{}),this.id=$(),this.manager=null,this.options.enable=D(this.options.enable,!0),this.state=pe,this.simultaneous={},this.requireFail=[]}Et.prototype={defaults:{},set:function(d){return g(this.options,d),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(d){if(f(d,"recognizeWith",this))return this;var m=this.simultaneous;return d=de(d,this),m[d.id]||(m[d.id]=d,d.recognizeWith(this)),this},dropRecognizeWith:function(d){return f(d,"dropRecognizeWith",this)?this:(d=de(d,this),delete this.simultaneous[d.id],this)},requireFailure:function(d){if(f(d,"requireFailure",this))return this;var m=this.requireFail;return d=de(d,this),U(m,d)===-1&&(m.push(d),d.requireFailure(this)),this},dropRequireFailure:function(d){if(f(d,"dropRequireFailure",this))return this;d=de(d,this);var m=U(this.requireFail,d);return m>-1&&this.requireFail.splice(m,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(d){return!!this.simultaneous[d.id]},emit:function(d){var m=this,y=this.state;function x(M){m.manager.emit(M,d)}y<_t&&x(m.options.event+Un(y)),x(m.options.event),d.additionalEvent&&x(d.additionalEvent),y>=_t&&x(m.options.event+Un(y))},tryEmit:function(d){if(this.canEmit())return this.emit(d);this.state=bt},canEmit:function(){for(var d=0;d<this.requireFail.length;){if(!(this.requireFail[d].state&(bt|pe)))return!1;d++}return!0},recognize:function(d){var m=g({},d);if(!_(this.options.enable,[this,m])){this.reset(),this.state=bt;return}this.state&(Tt|jt|bt)&&(this.state=pe),this.state=this.process(m),this.state&(ct|Ht|_t|jt)&&this.tryEmit(m)},process:function(d){},getTouchAction:function(){},reset:function(){}};function Un(d){return d&jt?"cancel":d&_t?"end":d&Ht?"move":d&ct?"start":""}function qn(d){return d==Yt?"down":d==Wt?"up":d==Gt?"left":d==Bt?"right":""}function de(d,m){var y=m.manager;return y?y.get(d):d}function pt(){Et.apply(this,arguments)}T(pt,Et,{defaults:{pointers:1},attrTest:function(d){var m=this.options.pointers;return m===0||d.pointers.length===m},process:function(d){var m=this.state,y=d.eventType,x=m&(ct|Ht),M=this.attrTest(d);return x&&(y&it||!M)?m|jt:x||M?y&j?m|_t:m&ct?m|Ht:ct:bt}});function me(){pt.apply(this,arguments),this.pX=null,this.pY=null}T(me,pt,{defaults:{event:"pan",threshold:10,pointers:1,direction:An},getTouchAction:function(){var d=this.options.direction,m=[];return d&yt&&m.push($t),d&Vt&&m.push(Xt),m},directionTest:function(d){var m=this.options,y=!0,x=d.distance,M=d.direction,S=d.deltaX,L=d.deltaY;return M&m.direction||(m.direction&yt?(M=S===0?ae:S<0?Gt:Bt,y=S!=this.pX,x=Math.abs(d.deltaX)):(M=L===0?ae:L<0?Wt:Yt,y=L!=this.pY,x=Math.abs(d.deltaY))),d.direction=M,y&&x>m.threshold&&M&m.direction},attrTest:function(d){return pt.prototype.attrTest.call(this,d)&&(this.state&ct||!(this.state&ct)&&this.directionTest(d))},emit:function(d){this.pX=d.deltaX,this.pY=d.deltaY;var m=qn(d.direction);m&&(d.additionalEvent=this.options.event+m),this._super.emit.call(this,d)}});function qe(){pt.apply(this,arguments)}T(qe,pt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Dt]},attrTest:function(d){return this._super.attrTest.call(this,d)&&(Math.abs(d.scale-1)>this.options.threshold||this.state&ct)},emit:function(d){if(d.scale!==1){var m=d.scale<1?"in":"out";d.additionalEvent=this.options.event+m}this._super.emit.call(this,d)}});function Ge(){Et.apply(this,arguments),this._timer=null,this._input=null}T(Ge,Et,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Hn]},process:function(d){var m=this.options,y=d.pointers.length===m.pointers,x=d.distance<m.threshold,M=d.deltaTime>m.time;if(this._input=d,!x||!y||d.eventType&(j|it)&&!M)this.reset();else if(d.eventType&et)this.reset(),this._timer=c(function(){this.state=Tt,this.tryEmit()},m.time,this);else if(d.eventType&j)return Tt;return bt},reset:function(){clearTimeout(this._timer)},emit:function(d){this.state===Tt&&(d&&d.eventType&j?this.manager.emit(this.options.event+"up",d):(this._input.timeStamp=o(),this.manager.emit(this.options.event,this._input)))}});function Be(){pt.apply(this,arguments)}T(Be,pt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Dt]},attrTest:function(d){return this._super.attrTest.call(this,d)&&(Math.abs(d.rotation)>this.options.threshold||this.state&ct)}});function We(){pt.apply(this,arguments)}T(We,pt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:yt|Vt,pointers:1},getTouchAction:function(){return me.prototype.getTouchAction.call(this)},attrTest:function(d){var m=this.options.direction,y;return m&(yt|Vt)?y=d.overallVelocity:m&yt?y=d.overallVelocityX:m&Vt&&(y=d.overallVelocityY),this._super.attrTest.call(this,d)&&m&d.offsetDirection&&d.distance>this.options.threshold&&d.maxPointers==this.options.pointers&&h(y)>this.options.velocity&&d.eventType&j},emit:function(d){var m=qn(d.offsetDirection);m&&this.manager.emit(this.options.event+m,d),this.manager.emit(this.options.event,d)}});function ge(){Et.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}T(ge,Et,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[He]},process:function(d){var m=this.options,y=d.pointers.length===m.pointers,x=d.distance<m.threshold,M=d.deltaTime<m.time;if(this.reset(),d.eventType&et&&this.count===0)return this.failTimeout();if(x&&M&&y){if(d.eventType!=j)return this.failTimeout();var S=this.pTime?d.timeStamp-this.pTime<m.interval:!0,L=!this.pCenter||ue(this.pCenter,d.center)<m.posThreshold;this.pTime=d.timeStamp,this.pCenter=d.center,!L||!S?this.count=1:this.count+=1,this._input=d;var Q=this.count%m.taps;if(Q===0)return this.hasRequireFailures()?(this._timer=c(function(){this.state=Tt,this.tryEmit()},m.interval,this),ct):Tt}return bt},failTimeout:function(){return this._timer=c(function(){this.state=bt},this.options.interval,this),bt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Tt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function At(d,m){return m=m||{},m.recognizers=D(m.recognizers,At.defaults.preset),new Ye(d,m)}At.VERSION="2.0.7",At.defaults={domEvents:!1,touchAction:Zn,enable:!0,inputTarget:null,inputClass:null,preset:[[Be,{enable:!1}],[qe,{enable:!1},["rotate"]],[We,{direction:yt}],[me,{direction:yt},["swipe"]],[ge],[ge,{event:"doubletap",taps:2},["tap"]],[Ge]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Li=1,Gn=2;function Ye(d,m){this.options=g({},At.defaults,m||{}),this.options.inputTarget=this.options.inputTarget||d,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=d,this.input=pi(this),this.touchAction=new Ue(this,this.options.touchAction),Bn(this,!0),p(this.options.recognizers,function(y){var x=this.add(new y[0](y[1]));y[2]&&x.recognizeWith(y[2]),y[3]&&x.requireFailure(y[3])},this)}Ye.prototype={set:function(d){return g(this.options,d),d.touchAction&&this.touchAction.update(),d.inputTarget&&(this.input.destroy(),this.input.target=d.inputTarget,this.input.init()),this},stop:function(d){this.session.stopped=d?Gn:Li},recognize:function(d){var m=this.session;if(!m.stopped){this.touchAction.preventDefaults(d);var y,x=this.recognizers,M=m.curRecognizer;(!M||M&&M.state&Tt)&&(M=m.curRecognizer=null);for(var S=0;S<x.length;)y=x[S],m.stopped!==Gn&&(!M||y==M||y.canRecognizeWith(M))?y.recognize(d):y.reset(),!M&&y.state&(ct|Ht|_t)&&(M=m.curRecognizer=y),S++}},get:function(d){if(d instanceof Et)return d;for(var m=this.recognizers,y=0;y<m.length;y++)if(m[y].options.event==d)return m[y];return null},add:function(d){if(f(d,"add",this))return this;var m=this.get(d.options.event);return m&&this.remove(m),this.recognizers.push(d),d.manager=this,this.touchAction.update(),d},remove:function(d){if(f(d,"remove",this))return this;if(d=this.get(d),d){var m=this.recognizers,y=U(m,d);y!==-1&&(m.splice(y,1),this.touchAction.update())}return this},on:function(d,m){if(d!==i&&m!==i){var y=this.handlers;return p(W(d),function(x){y[x]=y[x]||[],y[x].push(m)}),this}},off:function(d,m){if(d!==i){var y=this.handlers;return p(W(d),function(x){m?y[x]&&y[x].splice(U(y[x],m),1):delete y[x]}),this}},emit:function(d,m){this.options.domEvents&&zi(d,m);var y=this.handlers[d]&&this.handlers[d].slice();if(!(!y||!y.length)){m.type=d,m.preventDefault=function(){m.srcEvent.preventDefault()};for(var x=0;x<y.length;)y[x](m),x++}},destroy:function(){this.element&&Bn(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Bn(d,m){var y=d.element;if(y.style){var x;p(d.options.cssProps,function(M,S){x=H(y.style,S),m?(d.oldCssProps[x]=y.style[x],y.style[x]=M):y.style[x]=d.oldCssProps[x]||""}),m||(d.oldCssProps={})}}function zi(d,m){var y=e.createEvent("Event");y.initEvent(d,!0,!0),y.gesture=m,m.target.dispatchEvent(y)}g(At,{INPUT_START:et,INPUT_MOVE:Rt,INPUT_END:j,INPUT_CANCEL:it,STATE_POSSIBLE:pe,STATE_BEGAN:ct,STATE_CHANGED:Ht,STATE_ENDED:_t,STATE_RECOGNIZED:Tt,STATE_CANCELLED:jt,STATE_FAILED:bt,DIRECTION_NONE:ae,DIRECTION_LEFT:Gt,DIRECTION_RIGHT:Bt,DIRECTION_UP:Wt,DIRECTION_DOWN:Yt,DIRECTION_HORIZONTAL:yt,DIRECTION_VERTICAL:Vt,DIRECTION_ALL:An,Manager:Ye,Input:ht,TouchAction:Ue,TouchInput:ce,MouseInput:he,PointerEventInput:Fe,TouchMouseInput:Ze,SingleTouchInput:Vn,Recognizer:Et,AttrRecognizer:pt,Tap:ge,Pan:me,Swipe:We,Pinch:qe,Rotate:Be,Press:Ge,on:P,off:N,each:p,merge:w,extend:b,assign:g,inherit:T,bindFn:O,prefixed:H});var Fi=typeof t<"u"?t:typeof self<"u"?self:{};Fi.Hammer=At,n.exports?n.exports=At:t[r]=At})(window,document,"Hammer")})(Ke)),Ke.exports}var As=_s();const Cs=Wr(As);var Je,or;function Os(){return or||(or=1,Je=(function(){var n="",t,e,r,i=[],s={passive:!0},l={passive:!1};window.addEventListener?(t="addEventListener",e="removeEventListener"):(t="attachEvent",e="detachEvent",n="on"),r="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll";function a(v,g){var b=function(w){!w&&(w=window.event);var T={originalEvent:w,target:w.target||w.srcElement,type:"wheel",deltaMode:w.type=="MozMousePixelScroll"?0:1,deltaX:0,delatZ:0,preventDefault:function(){w.preventDefault?w.preventDefault():w.returnValue=!1}};return r=="mousewheel"?(T.deltaY=-.025*w.wheelDelta,w.wheelDeltaX&&(T.deltaX=-.025*w.wheelDeltaX)):T.deltaY=w.detail,g(T)};return i.push({element:v,fn:b}),b}function u(v){for(var g=0;g<i.length;g++)if(i[g].element===v)return i[g].fn;return function(){}}function h(v){for(var g=0;g<i.length;g++)if(i[g].element===v)return i.splice(g,1)}function o(v,g,b,w){var T;r==="wheel"?T=b:T=a(v,b),v[t](n+g,T,w?s:l)}function c(v,g,b,w){var T;r==="wheel"?T=b:T=u(v),v[e](n+g,T,w?s:l),h(v)}function f(v,g,b){o(v,r,g,b),r=="DOMMouseScroll"&&o(v,"MozMousePixelScroll",g,b)}function p(v,g,b){c(v,r,g,b),r=="DOMMouseScroll"&&c(v,"MozMousePixelScroll",g,b)}return{on:f,off:p}})()),Je}var tn,ar;function wn(){if(ar)return tn;ar=1,tn={extend:function(t,e){t=t||{};for(var r in e)this.isObject(e[r])?t[r]=this.extend(t[r],e[r]):t[r]=e[r];return t},isElement:function(t){return t instanceof HTMLElement||t instanceof SVGElement||t instanceof SVGSVGElement||t&&typeof t=="object"&&t!==null&&t.nodeType===1&&typeof t.nodeName=="string"},isObject:function(t){return Object.prototype.toString.call(t)==="[object Object]"},isNumber:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},getSvg:function(t){var e,r;if(this.isElement(t))e=t;else if(typeof t=="string"||t instanceof String){if(e=document.querySelector(t),!e)throw new Error("Provided selector did not find any elements. Selector: "+t)}else throw new Error("Provided selector is not an HTML object nor String");if(e.tagName.toLowerCase()==="svg")r=e;else if(e.tagName.toLowerCase()==="object")r=e.contentDocument.documentElement;else if(e.tagName.toLowerCase()==="embed")r=e.getSVGDocument().documentElement;else throw e.tagName.toLowerCase()==="img"?new Error('Cannot script an SVG in an "img" element. Please use an "object" element or an in-line SVG.'):new Error("Cannot get SVG.");return r},proxy:function(t,e){return function(){return t.apply(e,arguments)}},getType:function(t){return Object.prototype.toString.apply(t).replace(/^\[object\s/,"").replace(/\]$/,"")},mouseAndTouchNormalize:function(t,e){if(t.clientX===void 0||t.clientX===null)if(t.clientX=0,t.clientY=0,t.touches!==void 0&&t.touches.length){if(t.touches[0].clientX!==void 0)t.clientX=t.touches[0].clientX,t.clientY=t.touches[0].clientY;else if(t.touches[0].pageX!==void 0){var r=e.getBoundingClientRect();t.clientX=t.touches[0].pageX-r.left,t.clientY=t.touches[0].pageY-r.top}}else t.originalEvent!==void 0&&t.originalEvent.clientX!==void 0&&(t.clientX=t.originalEvent.clientX,t.clientY=t.originalEvent.clientY)},isDblClick:function(t,e){if(t.detail===2)return!0;if(e!=null){var r=t.timeStamp-e.timeStamp,i=Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2));return r<250&&i<10}return!1},now:Date.now||function(){return new Date().getTime()},throttle:function(t,e,r){var i=this,s,l,a,u=null,h=0;r||(r={});var o=function(){h=r.leading===!1?0:i.now(),u=null,a=t.apply(s,l),u||(s=l=null)};return function(){var c=i.now();!h&&r.leading===!1&&(h=c);var f=e-(c-h);return s=this,l=arguments,f<=0||f>e?(clearTimeout(u),u=null,h=c,a=t.apply(s,l),u||(s=l=null)):!u&&r.trailing!==!1&&(u=setTimeout(o,f)),a}},createRequestAnimationFrame:function(t){var e=null;return t!=="auto"&&t<60&&t>1&&(e=Math.floor(1e3/t)),e===null?window.requestAnimationFrame||n(33):n(e)}};function n(t){return function(e){window.setTimeout(e,t)}}return tn}var Qt,lr;function Tn(){if(lr)return Qt;lr=1;var n=wn(),t="unknown";return document.documentMode&&(t="ie"),Qt={svgNS:"http://www.w3.org/2000/svg",xmlNS:"http://www.w3.org/XML/1998/namespace",xmlnsNS:"http://www.w3.org/2000/xmlns/",xlinkNS:"http://www.w3.org/1999/xlink",evNS:"http://www.w3.org/2001/xml-events",getBoundingClientRectNormalized:function(e){if(e.clientWidth&&e.clientHeight)return{width:e.clientWidth,height:e.clientHeight};if(e.getBoundingClientRect())return e.getBoundingClientRect();throw new Error("Cannot get BoundingClientRect for SVG.")},getOrCreateViewport:function(e,r){var i=null;if(n.isElement(r)?i=r:i=e.querySelector(r),!i){var s=Array.prototype.slice.call(e.childNodes||e.children).filter(function(o){return o.nodeName!=="defs"&&o.nodeName!=="#text"});s.length===1&&s[0].nodeName==="g"&&s[0].getAttribute("transform")===null&&(i=s[0])}if(!i){var l="viewport-"+new Date().toISOString().replace(/\D/g,"");i=document.createElementNS(this.svgNS,"g"),i.setAttribute("id",l);var a=e.childNodes||e.children;if(a&&a.length>0)for(var u=a.length;u>0;u--)a[a.length-u].nodeName!=="defs"&&i.appendChild(a[a.length-u]);e.appendChild(i)}var h=[];return i.getAttribute("class")&&(h=i.getAttribute("class").split(" ")),~h.indexOf("svg-pan-zoom_viewport")||(h.push("svg-pan-zoom_viewport"),i.setAttribute("class",h.join(" "))),i},setupSvgAttributes:function(e){if(e.setAttribute("xmlns",this.svgNS),e.setAttributeNS(this.xmlnsNS,"xmlns:xlink",this.xlinkNS),e.setAttributeNS(this.xmlnsNS,"xmlns:ev",this.evNS),e.parentNode!==null){var r=e.getAttribute("style")||"";r.toLowerCase().indexOf("overflow")===-1&&e.setAttribute("style","overflow: hidden; "+r)}},internetExplorerRedisplayInterval:300,refreshDefsGlobal:n.throttle(function(){for(var e=document.querySelectorAll("defs"),r=e.length,i=0;i<r;i++){var s=e[i];s.parentNode.insertBefore(s,s)}},Qt?Qt.internetExplorerRedisplayInterval:null),setCTM:function(e,r,i){var s=this,l="matrix("+r.a+","+r.b+","+r.c+","+r.d+","+r.e+","+r.f+")";e.setAttributeNS(null,"transform",l),"transform"in e.style?e.style.transform=l:"-ms-transform"in e.style?e.style["-ms-transform"]=l:"-webkit-transform"in e.style&&(e.style["-webkit-transform"]=l),t==="ie"&&i&&(i.parentNode.insertBefore(i,i),window.setTimeout(function(){s.refreshDefsGlobal()},s.internetExplorerRedisplayInterval))},getEventPoint:function(e,r){var i=r.createSVGPoint();return n.mouseAndTouchNormalize(e,r),i.x=e.clientX,i.y=e.clientY,i},getSvgCenterPoint:function(e,r,i){return this.createSVGPoint(e,r/2,i/2)},createSVGPoint:function(e,r,i){var s=e.createSVGPoint();return s.x=r,s.y=i,s}},Qt}var en,ur;function Ns(){if(ur)return en;ur=1;var n=Tn();return en={enable:function(t){var e=t.svg.querySelector("defs");e||(e=document.createElementNS(n.svgNS,"defs"),t.svg.appendChild(e));var r=e.querySelector("style#svg-pan-zoom-controls-styles");if(!r){var i=document.createElementNS(n.svgNS,"style");i.setAttribute("id","svg-pan-zoom-controls-styles"),i.setAttribute("type","text/css"),i.textContent=".svg-pan-zoom-control { cursor: pointer; fill: black; fill-opacity: 0.333; } .svg-pan-zoom-control:hover { fill-opacity: 0.8; } .svg-pan-zoom-control-background { fill: white; fill-opacity: 0.5; } .svg-pan-zoom-control-background { fill-opacity: 0.8; }",e.appendChild(i)}var s=document.createElementNS(n.svgNS,"g");s.setAttribute("id","svg-pan-zoom-controls"),s.setAttribute("transform","translate("+(t.width-70)+" "+(t.height-76)+") scale(0.75)"),s.setAttribute("class","svg-pan-zoom-control"),s.appendChild(this._createZoomIn(t)),s.appendChild(this._createZoomReset(t)),s.appendChild(this._createZoomOut(t)),t.svg.appendChild(s),t.controlIcons=s},_createZoomIn:function(t){var e=document.createElementNS(n.svgNS,"g");e.setAttribute("id","svg-pan-zoom-zoom-in"),e.setAttribute("transform","translate(30.5 5) scale(0.015)"),e.setAttribute("class","svg-pan-zoom-control"),e.addEventListener("click",function(){t.getPublicInstance().zoomIn()},!1),e.addEventListener("touchstart",function(){t.getPublicInstance().zoomIn()},!1);var r=document.createElementNS(n.svgNS,"rect");r.setAttribute("x","0"),r.setAttribute("y","0"),r.setAttribute("width","1500"),r.setAttribute("height","1400"),r.setAttribute("class","svg-pan-zoom-control-background"),e.appendChild(r);var i=document.createElementNS(n.svgNS,"path");return i.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-320v320q0 26 -19 45t-45 19h-128q-26 0 -45 -19t-19 -45v-320h-320q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h320v-320q0 -26 19 -45t45 -19h128q26 0 45 19t19 45v320h320q26 0 45 19t19 45zM1536 1120v-960 q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5t84.5 -203.5z"),i.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(i),e},_createZoomReset:function(t){var e=document.createElementNS(n.svgNS,"g");e.setAttribute("id","svg-pan-zoom-reset-pan-zoom"),e.setAttribute("transform","translate(5 35) scale(0.4)"),e.setAttribute("class","svg-pan-zoom-control"),e.addEventListener("click",function(){t.getPublicInstance().reset()},!1),e.addEventListener("touchstart",function(){t.getPublicInstance().reset()},!1);var r=document.createElementNS(n.svgNS,"rect");r.setAttribute("x","2"),r.setAttribute("y","2"),r.setAttribute("width","182"),r.setAttribute("height","58"),r.setAttribute("class","svg-pan-zoom-control-background"),e.appendChild(r);var i=document.createElementNS(n.svgNS,"path");i.setAttribute("d","M33.051,20.632c-0.742-0.406-1.854-0.609-3.338-0.609h-7.969v9.281h7.769c1.543,0,2.701-0.188,3.473-0.562c1.365-0.656,2.048-1.953,2.048-3.891C35.032,22.757,34.372,21.351,33.051,20.632z"),i.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(i);var s=document.createElementNS(n.svgNS,"path");return s.setAttribute("d","M170.231,0.5H15.847C7.102,0.5,0.5,5.708,0.5,11.84v38.861C0.5,56.833,7.102,61.5,15.847,61.5h154.384c8.745,0,15.269-4.667,15.269-10.798V11.84C185.5,5.708,178.976,0.5,170.231,0.5z M42.837,48.569h-7.969c-0.219-0.766-0.375-1.383-0.469-1.852c-0.188-0.969-0.289-1.961-0.305-2.977l-0.047-3.211c-0.03-2.203-0.41-3.672-1.142-4.406c-0.732-0.734-2.103-1.102-4.113-1.102h-7.05v13.547h-7.055V14.022h16.524c2.361,0.047,4.178,0.344,5.45,0.891c1.272,0.547,2.351,1.352,3.234,2.414c0.731,0.875,1.31,1.844,1.737,2.906s0.64,2.273,0.64,3.633c0,1.641-0.414,3.254-1.242,4.84s-2.195,2.707-4.102,3.363c1.594,0.641,2.723,1.551,3.387,2.73s0.996,2.98,0.996,5.402v2.32c0,1.578,0.063,2.648,0.19,3.211c0.19,0.891,0.635,1.547,1.333,1.969V48.569z M75.579,48.569h-26.18V14.022h25.336v6.117H56.454v7.336h16.781v6H56.454v8.883h19.125V48.569z M104.497,46.331c-2.44,2.086-5.887,3.129-10.34,3.129c-4.548,0-8.125-1.027-10.731-3.082s-3.909-4.879-3.909-8.473h6.891c0.224,1.578,0.662,2.758,1.316,3.539c1.196,1.422,3.246,2.133,6.15,2.133c1.739,0,3.151-0.188,4.236-0.562c2.058-0.719,3.087-2.055,3.087-4.008c0-1.141-0.504-2.023-1.512-2.648c-1.008-0.609-2.607-1.148-4.796-1.617l-3.74-0.82c-3.676-0.812-6.201-1.695-7.576-2.648c-2.328-1.594-3.492-4.086-3.492-7.477c0-3.094,1.139-5.664,3.417-7.711s5.623-3.07,10.036-3.07c3.685,0,6.829,0.965,9.431,2.895c2.602,1.93,3.966,4.73,4.093,8.402h-6.938c-0.128-2.078-1.057-3.555-2.787-4.43c-1.154-0.578-2.587-0.867-4.301-0.867c-1.907,0-3.428,0.375-4.565,1.125c-1.138,0.75-1.706,1.797-1.706,3.141c0,1.234,0.561,2.156,1.682,2.766c0.721,0.406,2.25,0.883,4.589,1.43l6.063,1.43c2.657,0.625,4.648,1.461,5.975,2.508c2.059,1.625,3.089,3.977,3.089,7.055C108.157,41.624,106.937,44.245,104.497,46.331z M139.61,48.569h-26.18V14.022h25.336v6.117h-18.281v7.336h16.781v6h-16.781v8.883h19.125V48.569z M170.337,20.14h-10.336v28.43h-7.266V20.14h-10.383v-6.117h27.984V20.14z"),s.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(s),e},_createZoomOut:function(t){var e=document.createElementNS(n.svgNS,"g");e.setAttribute("id","svg-pan-zoom-zoom-out"),e.setAttribute("transform","translate(30.5 70) scale(0.015)"),e.setAttribute("class","svg-pan-zoom-control"),e.addEventListener("click",function(){t.getPublicInstance().zoomOut()},!1),e.addEventListener("touchstart",function(){t.getPublicInstance().zoomOut()},!1);var r=document.createElementNS(n.svgNS,"rect");r.setAttribute("x","0"),r.setAttribute("y","0"),r.setAttribute("width","1500"),r.setAttribute("height","1400"),r.setAttribute("class","svg-pan-zoom-control-background"),e.appendChild(r);var i=document.createElementNS(n.svgNS,"path");return i.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-896q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h896q26 0 45 19t19 45zM1536 1120v-960q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5 t84.5 -203.5z"),i.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(i),e},disable:function(t){t.controlIcons&&(t.controlIcons.parentNode.removeChild(t.controlIcons),t.controlIcons=null)}},en}var nn,hr;function Ps(){if(hr)return nn;hr=1;var n=Tn(),t=wn(),e=function(r,i){this.init(r,i)};return e.prototype.init=function(r,i){this.viewport=r,this.options=i,this.originalState={zoom:1,x:0,y:0},this.activeState={zoom:1,x:0,y:0},this.updateCTMCached=t.proxy(this.updateCTM,this),this.requestAnimationFrame=t.createRequestAnimationFrame(this.options.refreshRate),this.viewBox={x:0,y:0,width:0,height:0},this.cacheViewBox();var s=this.processCTM();this.setCTM(s),this.updateCTM()},e.prototype.cacheViewBox=function(){var r=this.options.svg.getAttribute("viewBox");if(r){var i=r.split(/[\s\,]/).filter(function(l){return l}).map(parseFloat);this.viewBox.x=i[0],this.viewBox.y=i[1],this.viewBox.width=i[2],this.viewBox.height=i[3];var s=Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height);this.activeState.zoom=s,this.activeState.x=(this.options.width-this.viewBox.width*s)/2,this.activeState.y=(this.options.height-this.viewBox.height*s)/2,this.updateCTMOnNextFrame(),this.options.svg.removeAttribute("viewBox")}else this.simpleViewBoxCache()},e.prototype.simpleViewBoxCache=function(){var r=this.viewport.getBBox();this.viewBox.x=r.x,this.viewBox.y=r.y,this.viewBox.width=r.width,this.viewBox.height=r.height},e.prototype.getViewBox=function(){return t.extend({},this.viewBox)},e.prototype.processCTM=function(){var r=this.getCTM();if(this.options.fit||this.options.contain){var i;this.options.fit?i=Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height):i=Math.max(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height),r.a=i,r.d=i,r.e=-this.viewBox.x*i,r.f=-this.viewBox.y*i}if(this.options.center){var s=(this.options.width-(this.viewBox.width+this.viewBox.x*2)*r.a)*.5,l=(this.options.height-(this.viewBox.height+this.viewBox.y*2)*r.a)*.5;r.e=s,r.f=l}return this.originalState.zoom=r.a,this.originalState.x=r.e,this.originalState.y=r.f,r},e.prototype.getOriginalState=function(){return t.extend({},this.originalState)},e.prototype.getState=function(){return t.extend({},this.activeState)},e.prototype.getZoom=function(){return this.activeState.zoom},e.prototype.getRelativeZoom=function(){return this.activeState.zoom/this.originalState.zoom},e.prototype.computeRelativeZoom=function(r){return r/this.originalState.zoom},e.prototype.getPan=function(){return{x:this.activeState.x,y:this.activeState.y}},e.prototype.getCTM=function(){var r=this.options.svg.createSVGMatrix();return r.a=this.activeState.zoom,r.b=0,r.c=0,r.d=this.activeState.zoom,r.e=this.activeState.x,r.f=this.activeState.y,r},e.prototype.setCTM=function(r){var i=this.isZoomDifferent(r),s=this.isPanDifferent(r);if(i||s){if(i&&(this.options.beforeZoom(this.getRelativeZoom(),this.computeRelativeZoom(r.a))===!1?(r.a=r.d=this.activeState.zoom,i=!1):(this.updateCache(r),this.options.onZoom(this.getRelativeZoom()))),s){var l=this.options.beforePan(this.getPan(),{x:r.e,y:r.f}),a=!1,u=!1;l===!1?(r.e=this.getPan().x,r.f=this.getPan().y,a=u=!0):t.isObject(l)&&(l.x===!1?(r.e=this.getPan().x,a=!0):t.isNumber(l.x)&&(r.e=l.x),l.y===!1?(r.f=this.getPan().y,u=!0):t.isNumber(l.y)&&(r.f=l.y)),a&&u||!this.isPanDifferent(r)?s=!1:(this.updateCache(r),this.options.onPan(this.getPan()))}(i||s)&&this.updateCTMOnNextFrame()}},e.prototype.isZoomDifferent=function(r){return this.activeState.zoom!==r.a},e.prototype.isPanDifferent=function(r){return this.activeState.x!==r.e||this.activeState.y!==r.f},e.prototype.updateCache=function(r){this.activeState.zoom=r.a,this.activeState.x=r.e,this.activeState.y=r.f},e.prototype.pendingUpdate=!1,e.prototype.updateCTMOnNextFrame=function(){this.pendingUpdate||(this.pendingUpdate=!0,this.requestAnimationFrame.call(window,this.updateCTMCached))},e.prototype.updateCTM=function(){var r=this.getCTM();n.setCTM(this.viewport,r,this.defs),this.pendingUpdate=!1,this.options.onUpdatedCTM&&this.options.onUpdatedCTM(r)},nn=function(r,i){return new e(r,i)},nn}var rn,cr;function ks(){if(cr)return rn;cr=1;var n=Os(),t=Ns(),e=wn(),r=Tn(),i=Ps(),s=function(o,c){this.init(o,c)},l={viewportSelector:".svg-pan-zoom_viewport",panEnabled:!0,controlIconsEnabled:!1,zoomEnabled:!0,dblClickZoomEnabled:!0,mouseWheelZoomEnabled:!0,preventMouseEventsDefault:!0,zoomScaleSensitivity:.1,minZoom:.5,maxZoom:10,fit:!0,contain:!1,center:!0,refreshRate:"auto",beforeZoom:null,onZoom:null,beforePan:null,onPan:null,customEventsHandler:null,eventsListenerElement:null,onUpdatedCTM:null},a={passive:!0};s.prototype.init=function(o,c){var f=this;this.svg=o,this.defs=o.querySelector("defs"),r.setupSvgAttributes(this.svg),this.options=e.extend(e.extend({},l),c),this.state="none";var p=r.getBoundingClientRectNormalized(o);this.width=p.width,this.height=p.height,this.viewport=i(r.getOrCreateViewport(this.svg,this.options.viewportSelector),{svg:this.svg,width:this.width,height:this.height,fit:this.options.fit,contain:this.options.contain,center:this.options.center,refreshRate:this.options.refreshRate,beforeZoom:function(g,b){if(f.viewport&&f.options.beforeZoom)return f.options.beforeZoom(g,b)},onZoom:function(g){if(f.viewport&&f.options.onZoom)return f.options.onZoom(g)},beforePan:function(g,b){if(f.viewport&&f.options.beforePan)return f.options.beforePan(g,b)},onPan:function(g){if(f.viewport&&f.options.onPan)return f.options.onPan(g)},onUpdatedCTM:function(g){if(f.viewport&&f.options.onUpdatedCTM)return f.options.onUpdatedCTM(g)}});var v=this.getPublicInstance();v.setBeforeZoom(this.options.beforeZoom),v.setOnZoom(this.options.onZoom),v.setBeforePan(this.options.beforePan),v.setOnPan(this.options.onPan),v.setOnUpdatedCTM(this.options.onUpdatedCTM),this.options.controlIconsEnabled&&t.enable(this),this.lastMouseWheelEventTime=Date.now(),this.setupHandlers()},s.prototype.setupHandlers=function(){var o=this,c=null;if(this.eventListeners={mousedown:function(g){var b=o.handleMouseDown(g,c);return c=g,b},touchstart:function(g){var b=o.handleMouseDown(g,c);return c=g,b},mouseup:function(g){return o.handleMouseUp(g)},touchend:function(g){return o.handleMouseUp(g)},mousemove:function(g){return o.handleMouseMove(g)},touchmove:function(g){return o.handleMouseMove(g)},mouseleave:function(g){return o.handleMouseUp(g)},touchleave:function(g){return o.handleMouseUp(g)},touchcancel:function(g){return o.handleMouseUp(g)}},this.options.customEventsHandler!=null){this.options.customEventsHandler.init({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()});var f=this.options.customEventsHandler.haltEventListeners;if(f&&f.length)for(var p=f.length-1;p>=0;p--)this.eventListeners.hasOwnProperty(f[p])&&delete this.eventListeners[f[p]]}for(var v in this.eventListeners)(this.options.eventsListenerElement||this.svg).addEventListener(v,this.eventListeners[v],this.options.preventMouseEventsDefault?!1:a);this.options.mouseWheelZoomEnabled&&(this.options.mouseWheelZoomEnabled=!1,this.enableMouseWheelZoom())},s.prototype.enableMouseWheelZoom=function(){if(!this.options.mouseWheelZoomEnabled){var o=this;this.wheelListener=function(f){return o.handleMouseWheel(f)};var c=!this.options.preventMouseEventsDefault;n.on(this.options.eventsListenerElement||this.svg,this.wheelListener,c),this.options.mouseWheelZoomEnabled=!0}},s.prototype.disableMouseWheelZoom=function(){if(this.options.mouseWheelZoomEnabled){var o=!this.options.preventMouseEventsDefault;n.off(this.options.eventsListenerElement||this.svg,this.wheelListener,o),this.options.mouseWheelZoomEnabled=!1}},s.prototype.handleMouseWheel=function(o){if(!(!this.options.zoomEnabled||this.state!=="none")){this.options.preventMouseEventsDefault&&(o.preventDefault?o.preventDefault():o.returnValue=!1);var c=o.deltaY||1,f=Date.now()-this.lastMouseWheelEventTime,p=3+Math.max(0,30-f);this.lastMouseWheelEventTime=Date.now(),"deltaMode"in o&&o.deltaMode===0&&o.wheelDelta&&(c=o.deltaY===0?0:Math.abs(o.wheelDelta)/o.deltaY),c=-.3<c&&c<.3?c:(c>0?1:-1)*Math.log(Math.abs(c)+10)/p;var v=this.svg.getScreenCTM().inverse(),g=r.getEventPoint(o,this.svg).matrixTransform(v),b=Math.pow(1+this.options.zoomScaleSensitivity,-1*c);this.zoomAtPoint(b,g)}},s.prototype.zoomAtPoint=function(o,c,f){var p=this.viewport.getOriginalState();f?(o=Math.max(this.options.minZoom*p.zoom,Math.min(this.options.maxZoom*p.zoom,o)),o=o/this.getZoom()):this.getZoom()*o<this.options.minZoom*p.zoom?o=this.options.minZoom*p.zoom/this.getZoom():this.getZoom()*o>this.options.maxZoom*p.zoom&&(o=this.options.maxZoom*p.zoom/this.getZoom());var v=this.viewport.getCTM(),g=c.matrixTransform(v.inverse()),b=this.svg.createSVGMatrix().translate(g.x,g.y).scale(o).translate(-g.x,-g.y),w=v.multiply(b);w.a!==v.a&&this.viewport.setCTM(w)},s.prototype.zoom=function(o,c){this.zoomAtPoint(o,r.getSvgCenterPoint(this.svg,this.width,this.height),c)},s.prototype.publicZoom=function(o,c){c&&(o=this.computeFromRelativeZoom(o)),this.zoom(o,c)},s.prototype.publicZoomAtPoint=function(o,c,f){if(f&&(o=this.computeFromRelativeZoom(o)),e.getType(c)!=="SVGPoint")if("x"in c&&"y"in c)c=r.createSVGPoint(this.svg,c.x,c.y);else throw new Error("Given point is invalid");this.zoomAtPoint(o,c,f)},s.prototype.getZoom=function(){return this.viewport.getZoom()},s.prototype.getRelativeZoom=function(){return this.viewport.getRelativeZoom()},s.prototype.computeFromRelativeZoom=function(o){return o*this.viewport.getOriginalState().zoom},s.prototype.resetZoom=function(){var o=this.viewport.getOriginalState();this.zoom(o.zoom,!0)},s.prototype.resetPan=function(){this.pan(this.viewport.getOriginalState())},s.prototype.reset=function(){this.resetZoom(),this.resetPan()},s.prototype.handleDblClick=function(o){if(this.options.preventMouseEventsDefault&&(o.preventDefault?o.preventDefault():o.returnValue=!1),this.options.controlIconsEnabled){var c=o.target.getAttribute("class")||"";if(c.indexOf("svg-pan-zoom-control")>-1)return!1}var f;o.shiftKey?f=1/((1+this.options.zoomScaleSensitivity)*2):f=(1+this.options.zoomScaleSensitivity)*2;var p=r.getEventPoint(o,this.svg).matrixTransform(this.svg.getScreenCTM().inverse());this.zoomAtPoint(f,p)},s.prototype.handleMouseDown=function(o,c){this.options.preventMouseEventsDefault&&(o.preventDefault?o.preventDefault():o.returnValue=!1),e.mouseAndTouchNormalize(o,this.svg),this.options.dblClickZoomEnabled&&e.isDblClick(o,c)?this.handleDblClick(o):(this.state="pan",this.firstEventCTM=this.viewport.getCTM(),this.stateOrigin=r.getEventPoint(o,this.svg).matrixTransform(this.firstEventCTM.inverse()))},s.prototype.handleMouseMove=function(o){if(this.options.preventMouseEventsDefault&&(o.preventDefault?o.preventDefault():o.returnValue=!1),this.state==="pan"&&this.options.panEnabled){var c=r.getEventPoint(o,this.svg).matrixTransform(this.firstEventCTM.inverse()),f=this.firstEventCTM.translate(c.x-this.stateOrigin.x,c.y-this.stateOrigin.y);this.viewport.setCTM(f)}},s.prototype.handleMouseUp=function(o){this.options.preventMouseEventsDefault&&(o.preventDefault?o.preventDefault():o.returnValue=!1),this.state==="pan"&&(this.state="none")},s.prototype.fit=function(){var o=this.viewport.getViewBox(),c=Math.min(this.width/o.width,this.height/o.height);this.zoom(c,!0)},s.prototype.contain=function(){var o=this.viewport.getViewBox(),c=Math.max(this.width/o.width,this.height/o.height);this.zoom(c,!0)},s.prototype.center=function(){var o=this.viewport.getViewBox(),c=(this.width-(o.width+o.x*2)*this.getZoom())*.5,f=(this.height-(o.height+o.y*2)*this.getZoom())*.5;this.getPublicInstance().pan({x:c,y:f})},s.prototype.updateBBox=function(){this.viewport.simpleViewBoxCache()},s.prototype.pan=function(o){var c=this.viewport.getCTM();c.e=o.x,c.f=o.y,this.viewport.setCTM(c)},s.prototype.panBy=function(o){var c=this.viewport.getCTM();c.e+=o.x,c.f+=o.y,this.viewport.setCTM(c)},s.prototype.getPan=function(){var o=this.viewport.getState();return{x:o.x,y:o.y}},s.prototype.resize=function(){var o=r.getBoundingClientRectNormalized(this.svg);this.width=o.width,this.height=o.height;var c=this.viewport;c.options.width=this.width,c.options.height=this.height,c.processCTM(),this.options.controlIconsEnabled&&(this.getPublicInstance().disableControlIcons(),this.getPublicInstance().enableControlIcons())},s.prototype.destroy=function(){var o=this;this.beforeZoom=null,this.onZoom=null,this.beforePan=null,this.onPan=null,this.onUpdatedCTM=null,this.options.customEventsHandler!=null&&this.options.customEventsHandler.destroy({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()});for(var c in this.eventListeners)(this.options.eventsListenerElement||this.svg).removeEventListener(c,this.eventListeners[c],this.options.preventMouseEventsDefault?!1:a);this.disableMouseWheelZoom(),this.getPublicInstance().disableControlIcons(),this.reset(),u=u.filter(function(f){return f.svg!==o.svg}),delete this.options,delete this.viewport,delete this.publicInstance,delete this.pi,this.getPublicInstance=function(){return null}},s.prototype.getPublicInstance=function(){var o=this;return this.publicInstance||(this.publicInstance=this.pi={enablePan:function(){return o.options.panEnabled=!0,o.pi},disablePan:function(){return o.options.panEnabled=!1,o.pi},isPanEnabled:function(){return!!o.options.panEnabled},pan:function(c){return o.pan(c),o.pi},panBy:function(c){return o.panBy(c),o.pi},getPan:function(){return o.getPan()},setBeforePan:function(c){return o.options.beforePan=c===null?null:e.proxy(c,o.publicInstance),o.pi},setOnPan:function(c){return o.options.onPan=c===null?null:e.proxy(c,o.publicInstance),o.pi},enableZoom:function(){return o.options.zoomEnabled=!0,o.pi},disableZoom:function(){return o.options.zoomEnabled=!1,o.pi},isZoomEnabled:function(){return!!o.options.zoomEnabled},enableControlIcons:function(){return o.options.controlIconsEnabled||(o.options.controlIconsEnabled=!0,t.enable(o)),o.pi},disableControlIcons:function(){return o.options.controlIconsEnabled&&(o.options.controlIconsEnabled=!1,t.disable(o)),o.pi},isControlIconsEnabled:function(){return!!o.options.controlIconsEnabled},enableDblClickZoom:function(){return o.options.dblClickZoomEnabled=!0,o.pi},disableDblClickZoom:function(){return o.options.dblClickZoomEnabled=!1,o.pi},isDblClickZoomEnabled:function(){return!!o.options.dblClickZoomEnabled},enableMouseWheelZoom:function(){return o.enableMouseWheelZoom(),o.pi},disableMouseWheelZoom:function(){return o.disableMouseWheelZoom(),o.pi},isMouseWheelZoomEnabled:function(){return!!o.options.mouseWheelZoomEnabled},setZoomScaleSensitivity:function(c){return o.options.zoomScaleSensitivity=c,o.pi},setMinZoom:function(c){return o.options.minZoom=c,o.pi},setMaxZoom:function(c){return o.options.maxZoom=c,o.pi},setBeforeZoom:function(c){return o.options.beforeZoom=c===null?null:e.proxy(c,o.publicInstance),o.pi},setOnZoom:function(c){return o.options.onZoom=c===null?null:e.proxy(c,o.publicInstance),o.pi},zoom:function(c){return o.publicZoom(c,!0),o.pi},zoomBy:function(c){return o.publicZoom(c,!1),o.pi},zoomAtPoint:function(c,f){return o.publicZoomAtPoint(c,f,!0),o.pi},zoomAtPointBy:function(c,f){return o.publicZoomAtPoint(c,f,!1),o.pi},zoomIn:function(){return this.zoomBy(1+o.options.zoomScaleSensitivity),o.pi},zoomOut:function(){return this.zoomBy(1/(1+o.options.zoomScaleSensitivity)),o.pi},getZoom:function(){return o.getRelativeZoom()},setOnUpdatedCTM:function(c){return o.options.onUpdatedCTM=c===null?null:e.proxy(c,o.publicInstance),o.pi},resetZoom:function(){return o.resetZoom(),o.pi},resetPan:function(){return o.resetPan(),o.pi},reset:function(){return o.reset(),o.pi},fit:function(){return o.fit(),o.pi},contain:function(){return o.contain(),o.pi},center:function(){return o.center(),o.pi},updateBBox:function(){return o.updateBBox(),o.pi},resize:function(){return o.resize(),o.pi},getSizes:function(){return{width:o.width,height:o.height,realZoom:o.getZoom(),viewBox:o.viewport.getViewBox()}},destroy:function(){return o.destroy(),o.pi}}),this.publicInstance};var u=[],h=function(o,c){var f=e.getSvg(o);if(f===null)return null;for(var p=u.length-1;p>=0;p--)if(u[p].svg===f)return u[p].instance.getPublicInstance();return u.push({svg:f,instance:new s(f,c)}),u[u.length-1].instance.getPublicInstance()};return rn=h,rn}var Is=ks();const Rs=Wr(Is);class Vs{pan;zoom;pzoom;isDirty=!1;resizeObserver;isPanEnabled;onPanZoomChange;constructor(){this.isPanEnabled=!0,this.resizeObserver=new ResizeObserver(()=>{this.resize(),this.isDirty||this.reset()})}updateElement(t,{pan:e,zoom:r}){this.pzoom?.destroy();let i;this.pzoom=Rs(t,{center:!0,controlIconsEnabled:!1,customEventsHandler:{haltEventListeners:["touchstart","touchend","touchmove","touchleave","touchcancel"],init:function(s){const l=s.instance;let a=1,u=0,h=0;i=new Cs(s.svgElement);const o=()=>{u=0,h=0},c=f=>{l.panBy({x:f.deltaX-u,y:f.deltaY-h}),u=f.deltaX,h=f.deltaY};i.get("pinch").set({enable:!0}),i.on("panstart panmove",function(f){f.type==="panstart"&&o(),c(f)}),i.on("pinchstart pinchmove",function(f){f.type==="pinchstart"&&(a=l.getZoom(),o()),l.zoomAtPoint(a*f.scale,{x:f.center.x,y:f.center.y}),c(f)}),s.svgElement.addEventListener("touchmove",function(f){f.preventDefault()})},destroy:function(){i?.destroy()}},fit:!0,maxZoom:12,minZoom:.2,onPan:s=>{this.pan=s,this.zoom=this.pzoom?.getZoom(),this.isDirty=!0,this.zoom&&this.onPanZoomChange?.(this.pan,this.zoom)},onZoom:s=>{this.zoom=s,this.pan=this.pzoom?.getPan(),this.isDirty=!0,this.pan&&this.onPanZoomChange?.(this.pan,this.zoom)},panEnabled:!0,zoomEnabled:!0}),this.pzoom.disableDblClickZoom(),this.resizeObserver.disconnect(),this.resizeObserver.observe(t),e&&r&&Number.isFinite(r)&&Number.isFinite(e.x)&&Number.isFinite(e.y)?this.restorePanZoom(e,r):this.reset(),this.isPanEnabled?(this.pzoom.enablePan(),this.pzoom.enableZoom()):(this.pzoom.disableZoom(),this.pzoom.disablePan()),e===void 0&&r===void 0&&this.reset()}restorePanZoom(t,e){if(!this.pzoom){console.error("PanZoomState.restorePanZoom: pzoom is not initialized");return}this.pzoom.zoom(e),this.pzoom.pan(t)}resize(){this.pzoom?.resize(),this.isDirty||this.reset()}zoomIn(){this.pzoom?.zoomIn()}zoomOut(){this.pzoom?.zoomOut()}reset(){this.pzoom?.reset(),this.pzoom?.zoom(.875),this.isDirty=!1}}function Ds(n){return/fa[blrs]?:fa-[\w-]+/g.test(n)}function Ls(n,t){Ur(t,!1);let e=ms(()=>import("./SEM66oaN.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url),r=(async()=>{await e,await Promise.allSettled(Array.from(document.fonts,a=>a.load()))})();async function i(){return await r}ys();var s=ts(),l=qr(s);return xs(l,()=>e,null,(a,u)=>{ft(u).default(a,{})}),Gr(n,s),ws(t,"waitForFontAwesomeToLoad",i),Br({waitForFontAwesomeToLoad:i})}function pn(n,t,e){if(n&&n.length){const[r,i]=t,s=Math.PI/180*e,l=Math.cos(s),a=Math.sin(s);for(const u of n){const[h,o]=u;u[0]=(h-r)*l-(o-i)*a+r,u[1]=(h-r)*a+(o-i)*l+i}}}function zs(n,t,e){const r=[];n.forEach(i=>r.push(...i)),pn(r,t,e)}function Fs(n,t){return n[0]===t[0]&&n[1]===t[1]}function Zs(n,t,e,r=1){const i=e,s=Math.max(t,.1),l=n[0]&&n[0][0]&&typeof n[0][0]=="number"?[n]:n,a=[0,0];if(i)for(const h of l)pn(h,a,i);const u=Hs(l,s,r);if(i){for(const h of l)pn(h,a,-i);zs(u,a,-i)}return u}function Hs(n,t,e){const r=[];for(const h of n){const o=[...h];Fs(o[0],o[o.length-1])||o.push([o[0][0],o[0][1]]),o.length>2&&r.push(o)}const i=[];t=Math.max(t,.1);const s=[];for(const h of r)for(let o=0;o<h.length-1;o++){const c=h[o],f=h[o+1];if(c[1]!==f[1]){const p=Math.min(c[1],f[1]);s.push({ymin:p,ymax:Math.max(c[1],f[1]),x:p===c[1]?c[0]:f[0],islope:(f[0]-c[0])/(f[1]-c[1])})}}if(s.sort((h,o)=>h.ymin<o.ymin?-1:h.ymin>o.ymin?1:h.x<o.x?-1:h.x>o.x?1:h.ymax===o.ymax?0:(h.ymax-o.ymax)/Math.abs(h.ymax-o.ymax)),!s.length)return i;let l=[],a=s[0].ymin,u=0;for(;l.length||s.length;){if(s.length){let h=-1;for(let c=0;c<s.length&&!(s[c].ymin>a);c++)h=c;s.splice(0,h+1).forEach(c=>{l.push({s:a,edge:c})})}if(l=l.filter(h=>!(h.edge.ymax<=a)),l.sort((h,o)=>h.edge.x===o.edge.x?0:(h.edge.x-o.edge.x)/Math.abs(h.edge.x-o.edge.x)),(e!==1||u%t===0)&&l.length>1)for(let h=0;h<l.length;h=h+2){const o=h+1;if(o>=l.length)break;const c=l[h].edge,f=l[o].edge;i.push([[Math.round(c.x),a],[Math.round(f.x),a]])}a+=e,l.forEach(h=>{h.edge.x=h.edge.x+e*h.edge.islope}),u++}return i}function oe(n,t){var e;const r=t.hachureAngle+90;let i=t.hachureGap;i<0&&(i=t.strokeWidth*4),i=Math.round(Math.max(i,.1));let s=1;return t.roughness>=1&&(((e=t.randomizer)===null||e===void 0?void 0:e.next())||Math.random())>.7&&(s=i),Zs(n,i,r,s||1)}class En{constructor(t){this.helper=t}fillPolygons(t,e){return this._fillPolygons(t,e)}_fillPolygons(t,e){const r=oe(t,e);return{type:"fillSketch",ops:this.renderLines(r,e)}}renderLines(t,e){const r=[];for(const i of t)r.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],e));return r}}function Re(n){const t=n[0],e=n[1];return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}class Us extends En{fillPolygons(t,e){let r=e.hachureGap;r<0&&(r=e.strokeWidth*4),r=Math.max(r,.1);const i=Object.assign({},e,{hachureGap:r}),s=oe(t,i),l=Math.PI/180*e.hachureAngle,a=[],u=r*.5*Math.cos(l),h=r*.5*Math.sin(l);for(const[c,f]of s)Re([c,f])&&a.push([[c[0]-u,c[1]+h],[...f]],[[c[0]+u,c[1]-h],[...f]]);return{type:"fillSketch",ops:this.renderLines(a,e)}}}class qs extends En{fillPolygons(t,e){const r=this._fillPolygons(t,e),i=Object.assign({},e,{hachureAngle:e.hachureAngle+90}),s=this._fillPolygons(t,i);return r.ops=r.ops.concat(s.ops),r}}class Gs{constructor(t){this.helper=t}fillPolygons(t,e){e=Object.assign({},e,{hachureAngle:0});const r=oe(t,e);return this.dotsOnLines(r,e)}dotsOnLines(t,e){const r=[];let i=e.hachureGap;i<0&&(i=e.strokeWidth*4),i=Math.max(i,.1);let s=e.fillWeight;s<0&&(s=e.strokeWidth/2);const l=i/4;for(const a of t){const u=Re(a),h=u/i,o=Math.ceil(h)-1,c=u-o*i,f=(a[0][0]+a[1][0])/2-i/4,p=Math.min(a[0][1],a[1][1]);for(let v=0;v<o;v++){const g=p+c+v*i,b=f-l+Math.random()*2*l,w=g-l+Math.random()*2*l,T=this.helper.ellipse(b,w,s,s,e);r.push(...T.ops)}}return{type:"fillSketch",ops:r}}}class Bs{constructor(t){this.helper=t}fillPolygons(t,e){const r=oe(t,e);return{type:"fillSketch",ops:this.dashedLine(r,e)}}dashedLine(t,e){const r=e.dashOffset<0?e.hachureGap<0?e.strokeWidth*4:e.hachureGap:e.dashOffset,i=e.dashGap<0?e.hachureGap<0?e.strokeWidth*4:e.hachureGap:e.dashGap,s=[];return t.forEach(l=>{const a=Re(l),u=Math.floor(a/(r+i)),h=(a+i-u*(r+i))/2;let o=l[0],c=l[1];o[0]>c[0]&&(o=l[1],c=l[0]);const f=Math.atan((c[1]-o[1])/(c[0]-o[0]));for(let p=0;p<u;p++){const v=p*(r+i),g=v+r,b=[o[0]+v*Math.cos(f)+h*Math.cos(f),o[1]+v*Math.sin(f)+h*Math.sin(f)],w=[o[0]+g*Math.cos(f)+h*Math.cos(f),o[1]+g*Math.sin(f)+h*Math.sin(f)];s.push(...this.helper.doubleLineOps(b[0],b[1],w[0],w[1],e))}}),s}}class Ws{constructor(t){this.helper=t}fillPolygons(t,e){const r=e.hachureGap<0?e.strokeWidth*4:e.hachureGap,i=e.zigzagOffset<0?r:e.zigzagOffset;e=Object.assign({},e,{hachureGap:r+i});const s=oe(t,e);return{type:"fillSketch",ops:this.zigzagLines(s,i,e)}}zigzagLines(t,e,r){const i=[];return t.forEach(s=>{const l=Re(s),a=Math.round(l/(2*e));let u=s[0],h=s[1];u[0]>h[0]&&(u=s[1],h=s[0]);const o=Math.atan((h[1]-u[1])/(h[0]-u[0]));for(let c=0;c<a;c++){const f=c*2*e,p=(c+1)*2*e,v=Math.sqrt(2*Math.pow(e,2)),g=[u[0]+f*Math.cos(o),u[1]+f*Math.sin(o)],b=[u[0]+p*Math.cos(o),u[1]+p*Math.sin(o)],w=[g[0]+v*Math.cos(o+Math.PI/4),g[1]+v*Math.sin(o+Math.PI/4)];i.push(...this.helper.doubleLineOps(g[0],g[1],w[0],w[1],r),...this.helper.doubleLineOps(w[0],w[1],b[0],b[1],r))}}),i}}const st={};function Ys(n,t){let e=n.fillStyle||"hachure";if(!st[e])switch(e){case"zigzag":st[e]||(st[e]=new Us(t));break;case"cross-hatch":st[e]||(st[e]=new qs(t));break;case"dots":st[e]||(st[e]=new Gs(t));break;case"dashed":st[e]||(st[e]=new Bs(t));break;case"zigzag-line":st[e]||(st[e]=new Ws(t));break;case"hachure":default:e="hachure",st[e]||(st[e]=new En(t));break}return st[e]}function Xs(){return Math.floor(Math.random()*2**31)}class jr{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const $s=0,dn=1,Qr=2,xe={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function js(n){const t=new Array;for(;n!=="";)if(n.match(/^([ \t\r\n,]+)/))n=n.substr(RegExp.$1.length);else if(n.match(/^([aAcChHlLmMqQsStTvVzZ])/))t[t.length]={type:$s,text:RegExp.$1},n=n.substr(RegExp.$1.length);else if(n.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))t[t.length]={type:dn,text:`${parseFloat(RegExp.$1)}`},n=n.substr(RegExp.$1.length);else return[];return t[t.length]={type:Qr,text:""},t}function sn(n,t){return n.type===t}function Mn(n){const t=[],e=js(n);let r="BOD",i=0,s=e[i];for(;!sn(s,Qr);){let l=0;const a=[];if(r==="BOD")if(s.text==="M"||s.text==="m")i++,l=xe[s.text],r=s.text;else return Mn("M0,0"+n);else sn(s,dn)?l=xe[r]:(i++,l=xe[s.text],r=s.text);if(i+l<e.length){for(let u=i;u<i+l;u++){const h=e[u];if(sn(h,dn))a[a.length]=+h.text;else throw new Error("Param not a number: "+r+","+h.text)}if(typeof xe[r]=="number"){const u={key:r,data:a};t.push(u),i+=l,s=e[i],r==="M"&&(r="L"),r==="m"&&(r="l")}else throw new Error("Bad segment: "+r)}else throw new Error("Path data ended short")}return t}function Kr(n){let t=0,e=0,r=0,i=0;const s=[];for(const{key:l,data:a}of n)switch(l){case"M":s.push({key:"M",data:[...a]}),[t,e]=a,[r,i]=a;break;case"m":t+=a[0],e+=a[1],s.push({key:"M",data:[t,e]}),r=t,i=e;break;case"L":s.push({key:"L",data:[...a]}),[t,e]=a;break;case"l":t+=a[0],e+=a[1],s.push({key:"L",data:[t,e]});break;case"C":s.push({key:"C",data:[...a]}),t=a[4],e=a[5];break;case"c":{const u=a.map((h,o)=>o%2?h+e:h+t);s.push({key:"C",data:u}),t=u[4],e=u[5];break}case"Q":s.push({key:"Q",data:[...a]}),t=a[2],e=a[3];break;case"q":{const u=a.map((h,o)=>o%2?h+e:h+t);s.push({key:"Q",data:u}),t=u[2],e=u[3];break}case"A":s.push({key:"A",data:[...a]}),t=a[5],e=a[6];break;case"a":t+=a[5],e+=a[6],s.push({key:"A",data:[a[0],a[1],a[2],a[3],a[4],t,e]});break;case"H":s.push({key:"H",data:[...a]}),t=a[0];break;case"h":t+=a[0],s.push({key:"H",data:[t]});break;case"V":s.push({key:"V",data:[...a]}),e=a[0];break;case"v":e+=a[0],s.push({key:"V",data:[e]});break;case"S":s.push({key:"S",data:[...a]}),t=a[2],e=a[3];break;case"s":{const u=a.map((h,o)=>o%2?h+e:h+t);s.push({key:"S",data:u}),t=u[2],e=u[3];break}case"T":s.push({key:"T",data:[...a]}),t=a[0],e=a[1];break;case"t":t+=a[0],e+=a[1],s.push({key:"T",data:[t,e]});break;case"Z":case"z":s.push({key:"Z",data:[]}),t=r,e=i;break}return s}function Jr(n){const t=[];let e="",r=0,i=0,s=0,l=0,a=0,u=0;for(const{key:h,data:o}of n){switch(h){case"M":t.push({key:"M",data:[...o]}),[r,i]=o,[s,l]=o;break;case"C":t.push({key:"C",data:[...o]}),r=o[4],i=o[5],a=o[2],u=o[3];break;case"L":t.push({key:"L",data:[...o]}),[r,i]=o;break;case"H":r=o[0],t.push({key:"L",data:[r,i]});break;case"V":i=o[0],t.push({key:"L",data:[r,i]});break;case"S":{let c=0,f=0;e==="C"||e==="S"?(c=r+(r-a),f=i+(i-u)):(c=r,f=i),t.push({key:"C",data:[c,f,...o]}),a=o[0],u=o[1],r=o[2],i=o[3];break}case"T":{const[c,f]=o;let p=0,v=0;e==="Q"||e==="T"?(p=r+(r-a),v=i+(i-u)):(p=r,v=i);const g=r+2*(p-r)/3,b=i+2*(v-i)/3,w=c+2*(p-c)/3,T=f+2*(v-f)/3;t.push({key:"C",data:[g,b,w,T,c,f]}),a=p,u=v,r=c,i=f;break}case"Q":{const[c,f,p,v]=o,g=r+2*(c-r)/3,b=i+2*(f-i)/3,w=p+2*(c-p)/3,T=v+2*(f-v)/3;t.push({key:"C",data:[g,b,w,T,p,v]}),a=c,u=f,r=p,i=v;break}case"A":{const c=Math.abs(o[0]),f=Math.abs(o[1]),p=o[2],v=o[3],g=o[4],b=o[5],w=o[6];c===0||f===0?(t.push({key:"C",data:[r,i,b,w,b,w]}),r=b,i=w):(r!==b||i!==w)&&(ti(r,i,b,w,c,f,p,v,g).forEach(function(O){t.push({key:"C",data:O})}),r=b,i=w);break}case"Z":t.push({key:"Z",data:[]}),r=s,i=l;break}e=h}return t}function Qs(n){return Math.PI*n/180}function Kt(n,t,e){const r=n*Math.cos(e)-t*Math.sin(e),i=n*Math.sin(e)+t*Math.cos(e);return[r,i]}function ti(n,t,e,r,i,s,l,a,u,h){const o=Qs(l);let c=[],f=0,p=0,v=0,g=0;if(h)[f,p,v,g]=h;else{[n,t]=Kt(n,t,-o),[e,r]=Kt(e,r,-o);const z=(n-e)/2,F=(t-r)/2;let H=z*z/(i*i)+F*F/(s*s);H>1&&(H=Math.sqrt(H),i=H*i,s=H*s);const X=a===u?-1:1,$=i*i,q=s*s,tt=$*q-$*F*F-q*z*z,Z=$*F*F+q*z*z,G=X*Math.sqrt(Math.abs(tt/Z));v=G*i*F/s+(n+e)/2,g=G*-s*z/i+(t+r)/2,f=Math.asin(parseFloat(((t-g)/s).toFixed(9))),p=Math.asin(parseFloat(((r-g)/s).toFixed(9))),n<v&&(f=Math.PI-f),e<v&&(p=Math.PI-p),f<0&&(f=Math.PI*2+f),p<0&&(p=Math.PI*2+p),u&&f>p&&(f=f-Math.PI*2),!u&&p>f&&(p=p-Math.PI*2)}let b=p-f;if(Math.abs(b)>Math.PI*120/180){const z=p,F=e,H=r;u&&p>f?p=f+Math.PI*120/180*1:p=f+Math.PI*120/180*-1,e=v+i*Math.cos(p),r=g+s*Math.sin(p),c=ti(e,r,F,H,i,s,l,0,u,[p,z,v,g])}b=p-f;const w=Math.cos(f),T=Math.sin(f),O=Math.cos(p),_=Math.sin(p),D=Math.tan(b/4),P=4/3*i*D,N=4/3*s*D,C=[n,t],R=[n+P*T,t-N*w],W=[e+P*_,r-N*O],U=[e,r];if(R[0]=2*C[0]-R[0],R[1]=2*C[1]-R[1],h)return[R,W,U].concat(c);{c=[R,W,U].concat(c);const z=[];for(let F=0;F<c.length;F+=3){const H=Kt(c[F][0],c[F][1],o),X=Kt(c[F+1][0],c[F+1][1],o),$=Kt(c[F+2][0],c[F+2][1],o);z.push([H[0],H[1],X[0],X[1],$[0],$[1]])}return z}}const Ks={randOffset:ro,randOffsetWithRange:io,ellipse:eo,doubleLineOps:so};function ei(n,t,e,r,i){return{type:"path",ops:kt(n,t,e,r,i)}}function _e(n,t,e){const r=(n||[]).length;if(r>2){const i=[];for(let s=0;s<r-1;s++)i.push(...kt(n[s][0],n[s][1],n[s+1][0],n[s+1][1],e));return t&&i.push(...kt(n[r-1][0],n[r-1][1],n[0][0],n[0][1],e)),{type:"path",ops:i}}else if(r===2)return ei(n[0][0],n[0][1],n[1][0],n[1][1],e);return{type:"path",ops:[]}}function Js(n,t){return _e(n,!0,t)}function to(n,t,e,r,i){const s=[[n,t],[n+e,t],[n+e,t+r],[n,t+r]];return Js(s,i)}function fr(n,t){if(n.length){const r=typeof n[0][0]=="number"?[n]:n,i=we(r[0],1*(1+t.roughness*.2),t),s=t.disableMultiStroke?[]:we(r[0],1.5*(1+t.roughness*.22),mr(t));for(let l=1;l<r.length;l++){const a=r[l];if(a.length){const u=we(a,1*(1+t.roughness*.2),t),h=t.disableMultiStroke?[]:we(a,1.5*(1+t.roughness*.22),mr(t));for(const o of u)o.op!=="move"&&i.push(o);for(const o of h)o.op!=="move"&&s.push(o)}}return{type:"path",ops:i.concat(s)}}return{type:"path",ops:[]}}function eo(n,t,e,r,i){const s=ni(e,r,i);return mn(n,t,i,s).opset}function ni(n,t,e){const r=Math.sqrt(Math.PI*2*Math.sqrt((Math.pow(n/2,2)+Math.pow(t/2,2))/2)),i=Math.ceil(Math.max(e.curveStepCount,e.curveStepCount/Math.sqrt(200)*r)),s=Math.PI*2/i;let l=Math.abs(n/2),a=Math.abs(t/2);const u=1-e.curveFitting;return l+=k(l*u,e),a+=k(a*u,e),{increment:s,rx:l,ry:a}}function mn(n,t,e,r){const[i,s]=gr(r.increment,n,t,r.rx,r.ry,1,r.increment*Ce(.1,Ce(.4,1,e),e),e);let l=Oe(i,null,e);if(!e.disableMultiStroke&&e.roughness!==0){const[a]=gr(r.increment,n,t,r.rx,r.ry,1.5,0,e),u=Oe(a,null,e);l=l.concat(u)}return{estimatedPoints:s,opset:{type:"path",ops:l}}}function pr(n,t,e,r,i,s,l,a,u){const h=n,o=t;let c=Math.abs(e/2),f=Math.abs(r/2);c+=k(c*.01,u),f+=k(f*.01,u);let p=i,v=s;for(;p<0;)p+=Math.PI*2,v+=Math.PI*2;v-p>Math.PI*2&&(p=0,v=Math.PI*2);const g=Math.PI*2/u.curveStepCount,b=Math.min(g/2,(v-p)/2),w=vr(b,h,o,c,f,p,v,1,u);if(!u.disableMultiStroke){const T=vr(b,h,o,c,f,p,v,1.5,u);w.push(...T)}return l&&(a?w.push(...kt(h,o,h+c*Math.cos(p),o+f*Math.sin(p),u),...kt(h,o,h+c*Math.cos(v),o+f*Math.sin(v),u)):w.push({op:"lineTo",data:[h,o]},{op:"lineTo",data:[h+c*Math.cos(p),o+f*Math.sin(p)]})),{type:"path",ops:w}}function dr(n,t){const e=Jr(Kr(Mn(n))),r=[];let i=[0,0],s=[0,0];for(const{key:l,data:a}of e)switch(l){case"M":{s=[a[0],a[1]],i=[a[0],a[1]];break}case"L":r.push(...kt(s[0],s[1],a[0],a[1],t)),s=[a[0],a[1]];break;case"C":{const[u,h,o,c,f,p]=a;r.push(...oo(u,h,o,c,f,p,s,t)),s=[f,p];break}case"Z":r.push(...kt(s[0],s[1],i[0],i[1],t)),s=[i[0],i[1]];break}return{type:"path",ops:r}}function on(n,t){const e=[];for(const r of n)if(r.length){const i=t.maxRandomnessOffset||0,s=r.length;if(s>2){e.push({op:"move",data:[r[0][0]+k(i,t),r[0][1]+k(i,t)]});for(let l=1;l<s;l++)e.push({op:"lineTo",data:[r[l][0]+k(i,t),r[l][1]+k(i,t)]})}}return{type:"fillPath",ops:e}}function Ut(n,t){return Ys(t,Ks).fillPolygons(n,t)}function no(n,t,e,r,i,s,l){const a=n,u=t;let h=Math.abs(e/2),o=Math.abs(r/2);h+=k(h*.01,l),o+=k(o*.01,l);let c=i,f=s;for(;c<0;)c+=Math.PI*2,f+=Math.PI*2;f-c>Math.PI*2&&(c=0,f=Math.PI*2);const p=(f-c)/l.curveStepCount,v=[];for(let g=c;g<=f;g=g+p)v.push([a+h*Math.cos(g),u+o*Math.sin(g)]);return v.push([a+h*Math.cos(f),u+o*Math.sin(f)]),v.push([a,u]),Ut([v],l)}function ro(n,t){return k(n,t)}function io(n,t,e){return Ce(n,t,e)}function so(n,t,e,r,i){return kt(n,t,e,r,i,!0)}function mr(n){const t=Object.assign({},n);return t.randomizer=void 0,n.seed&&(t.seed=n.seed+1),t}function ri(n){return n.randomizer||(n.randomizer=new jr(n.seed||0)),n.randomizer.next()}function Ce(n,t,e,r=1){return e.roughness*r*(ri(e)*(t-n)+n)}function k(n,t,e=1){return Ce(-n,n,t,e)}function kt(n,t,e,r,i,s=!1){const l=s?i.disableMultiStrokeFill:i.disableMultiStroke,a=gn(n,t,e,r,i,!0,!1);if(l)return a;const u=gn(n,t,e,r,i,!0,!0);return a.concat(u)}function gn(n,t,e,r,i,s,l){const a=Math.pow(n-e,2)+Math.pow(t-r,2),u=Math.sqrt(a);let h=1;u<200?h=1:u>500?h=.4:h=-.0016668*u+1.233334;let o=i.maxRandomnessOffset||0;o*o*100>a&&(o=u/10);const c=o/2,f=.2+ri(i)*.2;let p=i.bowing*i.maxRandomnessOffset*(r-t)/200,v=i.bowing*i.maxRandomnessOffset*(n-e)/200;p=k(p,i,h),v=k(v,i,h);const g=[],b=()=>k(c,i,h),w=()=>k(o,i,h),T=i.preserveVertices;return l?g.push({op:"move",data:[n+(T?0:b()),t+(T?0:b())]}):g.push({op:"move",data:[n+(T?0:k(o,i,h)),t+(T?0:k(o,i,h))]}),l?g.push({op:"bcurveTo",data:[p+n+(e-n)*f+b(),v+t+(r-t)*f+b(),p+n+2*(e-n)*f+b(),v+t+2*(r-t)*f+b(),e+(T?0:b()),r+(T?0:b())]}):g.push({op:"bcurveTo",data:[p+n+(e-n)*f+w(),v+t+(r-t)*f+w(),p+n+2*(e-n)*f+w(),v+t+2*(r-t)*f+w(),e+(T?0:w()),r+(T?0:w())]}),g}function we(n,t,e){if(!n.length)return[];const r=[];r.push([n[0][0]+k(t,e),n[0][1]+k(t,e)]),r.push([n[0][0]+k(t,e),n[0][1]+k(t,e)]);for(let i=1;i<n.length;i++)r.push([n[i][0]+k(t,e),n[i][1]+k(t,e)]),i===n.length-1&&r.push([n[i][0]+k(t,e),n[i][1]+k(t,e)]);return Oe(r,null,e)}function Oe(n,t,e){const r=n.length,i=[];if(r>3){const s=[],l=1-e.curveTightness;i.push({op:"move",data:[n[1][0],n[1][1]]});for(let a=1;a+2<r;a++){const u=n[a];s[0]=[u[0],u[1]],s[1]=[u[0]+(l*n[a+1][0]-l*n[a-1][0])/6,u[1]+(l*n[a+1][1]-l*n[a-1][1])/6],s[2]=[n[a+1][0]+(l*n[a][0]-l*n[a+2][0])/6,n[a+1][1]+(l*n[a][1]-l*n[a+2][1])/6],s[3]=[n[a+1][0],n[a+1][1]],i.push({op:"bcurveTo",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]]})}}else r===3?(i.push({op:"move",data:[n[1][0],n[1][1]]}),i.push({op:"bcurveTo",data:[n[1][0],n[1][1],n[2][0],n[2][1],n[2][0],n[2][1]]})):r===2&&i.push(...gn(n[0][0],n[0][1],n[1][0],n[1][1],e,!0,!0));return i}function gr(n,t,e,r,i,s,l,a){const u=a.roughness===0,h=[],o=[];if(u){n=n/4,o.push([t+r*Math.cos(-n),e+i*Math.sin(-n)]);for(let c=0;c<=Math.PI*2;c=c+n){const f=[t+r*Math.cos(c),e+i*Math.sin(c)];h.push(f),o.push(f)}o.push([t+r*Math.cos(0),e+i*Math.sin(0)]),o.push([t+r*Math.cos(n),e+i*Math.sin(n)])}else{const c=k(.5,a)-Math.PI/2;o.push([k(s,a)+t+.9*r*Math.cos(c-n),k(s,a)+e+.9*i*Math.sin(c-n)]);const f=Math.PI*2+c-.01;for(let p=c;p<f;p=p+n){const v=[k(s,a)+t+r*Math.cos(p),k(s,a)+e+i*Math.sin(p)];h.push(v),o.push(v)}o.push([k(s,a)+t+r*Math.cos(c+Math.PI*2+l*.5),k(s,a)+e+i*Math.sin(c+Math.PI*2+l*.5)]),o.push([k(s,a)+t+.98*r*Math.cos(c+l),k(s,a)+e+.98*i*Math.sin(c+l)]),o.push([k(s,a)+t+.9*r*Math.cos(c+l*.5),k(s,a)+e+.9*i*Math.sin(c+l*.5)])}return[o,h]}function vr(n,t,e,r,i,s,l,a,u){const h=s+k(.1,u),o=[];o.push([k(a,u)+t+.9*r*Math.cos(h-n),k(a,u)+e+.9*i*Math.sin(h-n)]);for(let c=h;c<=l;c=c+n)o.push([k(a,u)+t+r*Math.cos(c),k(a,u)+e+i*Math.sin(c)]);return o.push([t+r*Math.cos(l),e+i*Math.sin(l)]),o.push([t+r*Math.cos(l),e+i*Math.sin(l)]),Oe(o,null,u)}function oo(n,t,e,r,i,s,l,a){const u=[],h=[a.maxRandomnessOffset||1,(a.maxRandomnessOffset||1)+.3];let o=[0,0];const c=a.disableMultiStroke?1:2,f=a.preserveVertices;for(let p=0;p<c;p++)p===0?u.push({op:"move",data:[l[0],l[1]]}):u.push({op:"move",data:[l[0]+(f?0:k(h[0],a)),l[1]+(f?0:k(h[0],a))]}),o=f?[i,s]:[i+k(h[p],a),s+k(h[p],a)],u.push({op:"bcurveTo",data:[n+k(h[p],a),t+k(h[p],a),e+k(h[p],a),r+k(h[p],a),o[0],o[1]]});return u}function Jt(n){return[...n]}function yr(n,t=0){const e=n.length;if(e<3)throw new Error("A curve must have at least three points.");const r=[];if(e===3)r.push(Jt(n[0]),Jt(n[1]),Jt(n[2]),Jt(n[2]));else{const i=[];i.push(n[0],n[0]);for(let a=1;a<n.length;a++)i.push(n[a]),a===n.length-1&&i.push(n[a]);const s=[],l=1-t;r.push(Jt(i[0]));for(let a=1;a+2<i.length;a++){const u=i[a];s[0]=[u[0],u[1]],s[1]=[u[0]+(l*i[a+1][0]-l*i[a-1][0])/6,u[1]+(l*i[a+1][1]-l*i[a-1][1])/6],s[2]=[i[a+1][0]+(l*i[a][0]-l*i[a+2][0])/6,i[a+1][1]+(l*i[a][1]-l*i[a+2][1])/6],s[3]=[i[a+1][0],i[a+1][1]],r.push(s[1],s[2],s[3])}}return r}function ao(n,t){return Math.sqrt(Ae(n,t))}function Ae(n,t){return Math.pow(n[0]-t[0],2)+Math.pow(n[1]-t[1],2)}function lo(n,t,e){const r=Ae(t,e);if(r===0)return Ae(n,t);let i=((n[0]-t[0])*(e[0]-t[0])+(n[1]-t[1])*(e[1]-t[1]))/r;return i=Math.max(0,Math.min(1,i)),Ae(n,zt(t,e,i))}function zt(n,t,e){return[n[0]+(t[0]-n[0])*e,n[1]+(t[1]-n[1])*e]}function uo(n,t){const e=n[t+0],r=n[t+1],i=n[t+2],s=n[t+3];let l=3*r[0]-2*e[0]-s[0];l*=l;let a=3*r[1]-2*e[1]-s[1];a*=a;let u=3*i[0]-2*s[0]-e[0];u*=u;let h=3*i[1]-2*s[1]-e[1];return h*=h,l<u&&(l=u),a<h&&(a=h),l+a}function vn(n,t,e,r){const i=r||[];if(uo(n,t)<e){const s=n[t+0];i.length?ao(i[i.length-1],s)>1&&i.push(s):i.push(s),i.push(n[t+3])}else{const l=n[t+0],a=n[t+1],u=n[t+2],h=n[t+3],o=zt(l,a,.5),c=zt(a,u,.5),f=zt(u,h,.5),p=zt(o,c,.5),v=zt(c,f,.5),g=zt(p,v,.5);vn([l,o,p,g],0,e,i),vn([g,v,f,h],0,e,i)}return i}function ho(n,t){return Ne(n,0,n.length,t)}function Ne(n,t,e,r,i){const s=i||[],l=n[t],a=n[e-1];let u=0,h=1;for(let o=t+1;o<e-1;++o){const c=lo(n[o],l,a);c>u&&(u=c,h=o)}return Math.sqrt(u)>r?(Ne(n,t,h+1,r,s),Ne(n,h,e,r,s)):(s.length||s.push(l),s.push(a)),s}function yn(n,t=.15,e){const r=[],i=(n.length-1)/3;for(let s=0;s<i;s++){const l=s*3;vn(n,l,t,r)}return e&&e>0?Ne(r,0,r.length,e):r}function co(n,t,e){const r=Mn(n),i=Jr(Kr(r)),s=[];let l=[],a=[0,0],u=[];const h=()=>{u.length>=4&&l.push(...yn(u,t)),u=[]},o=()=>{h(),l.length&&(s.push(l),l=[])};for(const{key:f,data:p}of i)switch(f){case"M":o(),a=[p[0],p[1]],l.push(a);break;case"L":h(),l.push([p[0],p[1]]);break;case"C":if(!u.length){const v=l.length?l[l.length-1]:a;u.push([v[0],v[1]])}u.push([p[0],p[1]]),u.push([p[2],p[3]]),u.push([p[4],p[5]]);break;case"Z":h(),l.push([a[0],a[1]]);break}if(o(),!e)return s;const c=[];for(const f of s){const p=ho(f,e);p.length&&c.push(p)}return c}const ot="none";class Pe{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Xs()}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,e,r){return{shape:t,sets:e||[],options:r||this.defaultOptions}}line(t,e,r,i,s){const l=this._o(s);return this._d("line",[ei(t,e,r,i,l)],l)}rectangle(t,e,r,i,s){const l=this._o(s),a=[],u=to(t,e,r,i,l);if(l.fill){const h=[[t,e],[t+r,e],[t+r,e+i],[t,e+i]];l.fillStyle==="solid"?a.push(on([h],l)):a.push(Ut([h],l))}return l.stroke!==ot&&a.push(u),this._d("rectangle",a,l)}ellipse(t,e,r,i,s){const l=this._o(s),a=[],u=ni(r,i,l),h=mn(t,e,l,u);if(l.fill)if(l.fillStyle==="solid"){const o=mn(t,e,l,u).opset;o.type="fillPath",a.push(o)}else a.push(Ut([h.estimatedPoints],l));return l.stroke!==ot&&a.push(h.opset),this._d("ellipse",a,l)}circle(t,e,r,i){const s=this.ellipse(t,e,r,r,i);return s.shape="circle",s}linearPath(t,e){const r=this._o(e);return this._d("linearPath",[_e(t,!1,r)],r)}arc(t,e,r,i,s,l,a=!1,u){const h=this._o(u),o=[],c=pr(t,e,r,i,s,l,a,!0,h);if(a&&h.fill)if(h.fillStyle==="solid"){const f=Object.assign({},h);f.disableMultiStroke=!0;const p=pr(t,e,r,i,s,l,!0,!1,f);p.type="fillPath",o.push(p)}else o.push(no(t,e,r,i,s,l,h));return h.stroke!==ot&&o.push(c),this._d("arc",o,h)}curve(t,e){const r=this._o(e),i=[],s=fr(t,r);if(r.fill&&r.fill!==ot)if(r.fillStyle==="solid"){const l=fr(t,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(l.ops)})}else{const l=[],a=t;if(a.length){const h=typeof a[0][0]=="number"?[a]:a;for(const o of h)o.length<3?l.push(...o):o.length===3?l.push(...yn(yr([o[0],o[0],o[1],o[2]]),10,(1+r.roughness)/2)):l.push(...yn(yr(o),10,(1+r.roughness)/2))}l.length&&i.push(Ut([l],r))}return r.stroke!==ot&&i.push(s),this._d("curve",i,r)}polygon(t,e){const r=this._o(e),i=[],s=_e(t,!0,r);return r.fill&&(r.fillStyle==="solid"?i.push(on([t],r)):i.push(Ut([t],r))),r.stroke!==ot&&i.push(s),this._d("polygon",i,r)}path(t,e){const r=this._o(e),i=[];if(!t)return this._d("path",i,r);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const s=r.fill&&r.fill!=="transparent"&&r.fill!==ot,l=r.stroke!==ot,a=!!(r.simplification&&r.simplification<1),u=a?4-4*(r.simplification||1):(1+r.roughness)/2,h=co(t,1,u),o=dr(t,r);if(s)if(r.fillStyle==="solid")if(h.length===1){const c=dr(t,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(c.ops)})}else i.push(on(h,r));else i.push(Ut(h,r));return l&&(a?h.forEach(c=>{i.push(_e(c,!1,r))}):i.push(o)),this._d("path",i,r)}opsToPath(t,e){let r="";for(const i of t.ops){const s=typeof e=="number"&&e>=0?i.data.map(l=>+l.toFixed(e)):i.data;switch(i.op){case"move":r+=`M${s[0]} ${s[1]} `;break;case"bcurveTo":r+=`C${s[0]} ${s[1]}, ${s[2]} ${s[3]}, ${s[4]} ${s[5]} `;break;case"lineTo":r+=`L${s[0]} ${s[1]} `;break}}return r.trim()}toPaths(t){const e=t.sets||[],r=t.options||this.defaultOptions,i=[];for(const s of e){let l=null;switch(s.type){case"path":l={d:this.opsToPath(s),stroke:r.stroke,strokeWidth:r.strokeWidth,fill:ot};break;case"fillPath":l={d:this.opsToPath(s),stroke:ot,strokeWidth:0,fill:r.fill||ot};break;case"fillSketch":l=this.fillSketch(s,r);break}l&&i.push(l)}return i}fillSketch(t,e){let r=e.fillWeight;return r<0&&(r=e.strokeWidth/2),{d:this.opsToPath(t),stroke:e.fill||ot,strokeWidth:r,fill:ot}}_mergedShape(t){return t.filter((e,r)=>r===0?!0:e.op!=="move")}}class fo{constructor(t,e){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new Pe(e)}draw(t){const e=t.sets||[],r=t.options||this.getDefaultOptions(),i=this.ctx,s=t.options.fixedDecimalPlaceDigits;for(const l of e)switch(l.type){case"path":i.save(),i.strokeStyle=r.stroke==="none"?"transparent":r.stroke,i.lineWidth=r.strokeWidth,r.strokeLineDash&&i.setLineDash(r.strokeLineDash),r.strokeLineDashOffset&&(i.lineDashOffset=r.strokeLineDashOffset),this._drawToContext(i,l,s),i.restore();break;case"fillPath":{i.save(),i.fillStyle=r.fill||"";const a=t.shape==="curve"||t.shape==="polygon"||t.shape==="path"?"evenodd":"nonzero";this._drawToContext(i,l,s,a),i.restore();break}case"fillSketch":this.fillSketch(i,l,r);break}}fillSketch(t,e,r){let i=r.fillWeight;i<0&&(i=r.strokeWidth/2),t.save(),r.fillLineDash&&t.setLineDash(r.fillLineDash),r.fillLineDashOffset&&(t.lineDashOffset=r.fillLineDashOffset),t.strokeStyle=r.fill||"",t.lineWidth=i,this._drawToContext(t,e,r.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,e,r,i="nonzero"){t.beginPath();for(const s of e.ops){const l=typeof r=="number"&&r>=0?s.data.map(a=>+a.toFixed(r)):s.data;switch(s.op){case"move":t.moveTo(l[0],l[1]);break;case"bcurveTo":t.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5]);break;case"lineTo":t.lineTo(l[0],l[1]);break}}e.type==="fillPath"?t.fill(i):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,e,r,i,s){const l=this.gen.line(t,e,r,i,s);return this.draw(l),l}rectangle(t,e,r,i,s){const l=this.gen.rectangle(t,e,r,i,s);return this.draw(l),l}ellipse(t,e,r,i,s){const l=this.gen.ellipse(t,e,r,i,s);return this.draw(l),l}circle(t,e,r,i){const s=this.gen.circle(t,e,r,i);return this.draw(s),s}linearPath(t,e){const r=this.gen.linearPath(t,e);return this.draw(r),r}polygon(t,e){const r=this.gen.polygon(t,e);return this.draw(r),r}arc(t,e,r,i,s,l,a=!1,u){const h=this.gen.arc(t,e,r,i,s,l,a,u);return this.draw(h),h}curve(t,e){const r=this.gen.curve(t,e);return this.draw(r),r}path(t,e){const r=this.gen.path(t,e);return this.draw(r),r}}const Te="http://www.w3.org/2000/svg";class po{constructor(t,e){this.svg=t,this.gen=new Pe(e)}draw(t){const e=t.sets||[],r=t.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,s=i.createElementNS(Te,"g"),l=t.options.fixedDecimalPlaceDigits;for(const a of e){let u=null;switch(a.type){case"path":{u=i.createElementNS(Te,"path"),u.setAttribute("d",this.opsToPath(a,l)),u.setAttribute("stroke",r.stroke),u.setAttribute("stroke-width",r.strokeWidth+""),u.setAttribute("fill","none"),r.strokeLineDash&&u.setAttribute("stroke-dasharray",r.strokeLineDash.join(" ").trim()),r.strokeLineDashOffset&&u.setAttribute("stroke-dashoffset",`${r.strokeLineDashOffset}`);break}case"fillPath":{u=i.createElementNS(Te,"path"),u.setAttribute("d",this.opsToPath(a,l)),u.setAttribute("stroke","none"),u.setAttribute("stroke-width","0"),u.setAttribute("fill",r.fill||""),(t.shape==="curve"||t.shape==="polygon")&&u.setAttribute("fill-rule","evenodd");break}case"fillSketch":{u=this.fillSketch(i,a,r);break}}u&&s.appendChild(u)}return s}fillSketch(t,e,r){let i=r.fillWeight;i<0&&(i=r.strokeWidth/2);const s=t.createElementNS(Te,"path");return s.setAttribute("d",this.opsToPath(e,r.fixedDecimalPlaceDigits)),s.setAttribute("stroke",r.fill||""),s.setAttribute("stroke-width",i+""),s.setAttribute("fill","none"),r.fillLineDash&&s.setAttribute("stroke-dasharray",r.fillLineDash.join(" ").trim()),r.fillLineDashOffset&&s.setAttribute("stroke-dashoffset",`${r.fillLineDashOffset}`),s}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,e){return this.gen.opsToPath(t,e)}line(t,e,r,i,s){const l=this.gen.line(t,e,r,i,s);return this.draw(l)}rectangle(t,e,r,i,s){const l=this.gen.rectangle(t,e,r,i,s);return this.draw(l)}ellipse(t,e,r,i,s){const l=this.gen.ellipse(t,e,r,i,s);return this.draw(l)}circle(t,e,r,i){const s=this.gen.circle(t,e,r,i);return this.draw(s)}linearPath(t,e){const r=this.gen.linearPath(t,e);return this.draw(r)}polygon(t,e){const r=this.gen.polygon(t,e);return this.draw(r)}arc(t,e,r,i,s,l,a=!1,u){const h=this.gen.arc(t,e,r,i,s,l,a,u);return this.draw(h)}curve(t,e){const r=this.gen.curve(t,e);return this.draw(r)}path(t,e){const r=this.gen.path(t,e);return this.draw(r)}}const mo={canvas(n,t){return new fo(n,t)},svg(n,t){return new po(n,t)},generator(n){return new Pe(n)},newSeed(){return Pe.newSeed()}};function ke(n){"@babel/helpers - typeof";return ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ke(n)}var go=/^\s+/,vo=/\s+$/;function A(n,t){if(n=n||"",t=t||{},n instanceof A)return n;if(!(this instanceof A))return new A(n,t);var e=yo(n);this._originalInput=n,this._r=e.r,this._g=e.g,this._b=e.b,this._a=e.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||e.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=e.ok}A.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),e,r,i,s,l,a;return e=t.r/255,r=t.g/255,i=t.b/255,e<=.03928?s=e/12.92:s=Math.pow((e+.055)/1.055,2.4),r<=.03928?l=r/12.92:l=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*l+.0722*a},setAlpha:function(t){return this._a=ii(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=xr(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=xr(this._r,this._g,this._b),e=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.v*100);return this._a==1?"hsv("+e+", "+r+"%, "+i+"%)":"hsva("+e+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=br(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=br(this._r,this._g,this._b),e=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.l*100);return this._a==1?"hsl("+e+", "+r+"%, "+i+"%)":"hsla("+e+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return wr(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return To(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(B(this._r,255)*100)+"%",g:Math.round(B(this._g,255)*100)+"%",b:Math.round(B(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(B(this._r,255)*100)+"%, "+Math.round(B(this._g,255)*100)+"%, "+Math.round(B(this._b,255)*100)+"%)":"rgba("+Math.round(B(this._r,255)*100)+"%, "+Math.round(B(this._g,255)*100)+"%, "+Math.round(B(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Ro[wr(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var e="#"+Tr(this._r,this._g,this._b,this._a),r=e,i=this._gradientType?"GradientType = 1, ":"";if(t){var s=A(t);r="#"+Tr(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+e+",endColorstr="+r+")"},toString:function(t){var e=!!t;t=t||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!e&&i&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return s?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return A(this.toString())},_applyModification:function(t,e){var r=t.apply(null,[this].concat([].slice.call(e)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(_o,arguments)},brighten:function(){return this._applyModification(Ao,arguments)},darken:function(){return this._applyModification(Co,arguments)},desaturate:function(){return this._applyModification(Eo,arguments)},saturate:function(){return this._applyModification(Mo,arguments)},greyscale:function(){return this._applyModification(So,arguments)},spin:function(){return this._applyModification(Oo,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(ko,arguments)},complement:function(){return this._applyCombination(No,arguments)},monochromatic:function(){return this._applyCombination(Io,arguments)},splitcomplement:function(){return this._applyCombination(Po,arguments)},triad:function(){return this._applyCombination(Er,[3])},tetrad:function(){return this._applyCombination(Er,[4])}};A.fromRatio=function(n,t){if(ke(n)=="object"){var e={};for(var r in n)n.hasOwnProperty(r)&&(r==="a"?e[r]=n[r]:e[r]=te(n[r]));n=e}return A(n,t)};function yo(n){var t={r:0,g:0,b:0},e=1,r=null,i=null,s=null,l=!1,a=!1;return typeof n=="string"&&(n=zo(n)),ke(n)=="object"&&(Mt(n.r)&&Mt(n.g)&&Mt(n.b)?(t=bo(n.r,n.g,n.b),l=!0,a=String(n.r).substr(-1)==="%"?"prgb":"rgb"):Mt(n.h)&&Mt(n.s)&&Mt(n.v)?(r=te(n.s),i=te(n.v),t=wo(n.h,r,i),l=!0,a="hsv"):Mt(n.h)&&Mt(n.s)&&Mt(n.l)&&(r=te(n.s),s=te(n.l),t=xo(n.h,r,s),l=!0,a="hsl"),n.hasOwnProperty("a")&&(e=n.a)),e=ii(e),{ok:l,format:n.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:e}}function bo(n,t,e){return{r:B(n,255)*255,g:B(t,255)*255,b:B(e,255)*255}}function br(n,t,e){n=B(n,255),t=B(t,255),e=B(e,255);var r=Math.max(n,t,e),i=Math.min(n,t,e),s,l,a=(r+i)/2;if(r==i)s=l=0;else{var u=r-i;switch(l=a>.5?u/(2-r-i):u/(r+i),r){case n:s=(t-e)/u+(t<e?6:0);break;case t:s=(e-n)/u+2;break;case e:s=(n-t)/u+4;break}s/=6}return{h:s,s:l,l:a}}function xo(n,t,e){var r,i,s;n=B(n,360),t=B(t,100),e=B(e,100);function l(h,o,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?h+(o-h)*6*c:c<1/2?o:c<2/3?h+(o-h)*(2/3-c)*6:h}if(t===0)r=i=s=e;else{var a=e<.5?e*(1+t):e+t-e*t,u=2*e-a;r=l(u,a,n+1/3),i=l(u,a,n),s=l(u,a,n-1/3)}return{r:r*255,g:i*255,b:s*255}}function xr(n,t,e){n=B(n,255),t=B(t,255),e=B(e,255);var r=Math.max(n,t,e),i=Math.min(n,t,e),s,l,a=r,u=r-i;if(l=r===0?0:u/r,r==i)s=0;else{switch(r){case n:s=(t-e)/u+(t<e?6:0);break;case t:s=(e-n)/u+2;break;case e:s=(n-t)/u+4;break}s/=6}return{h:s,s:l,v:a}}function wo(n,t,e){n=B(n,360)*6,t=B(t,100),e=B(e,100);var r=Math.floor(n),i=n-r,s=e*(1-t),l=e*(1-i*t),a=e*(1-(1-i)*t),u=r%6,h=[e,l,s,s,a,e][u],o=[a,e,e,l,s,s][u],c=[s,s,a,e,e,l][u];return{r:h*255,g:o*255,b:c*255}}function wr(n,t,e,r){var i=[vt(Math.round(n).toString(16)),vt(Math.round(t).toString(16)),vt(Math.round(e).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function To(n,t,e,r,i){var s=[vt(Math.round(n).toString(16)),vt(Math.round(t).toString(16)),vt(Math.round(e).toString(16)),vt(si(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function Tr(n,t,e,r){var i=[vt(si(r)),vt(Math.round(n).toString(16)),vt(Math.round(t).toString(16)),vt(Math.round(e).toString(16))];return i.join("")}A.equals=function(n,t){return!n||!t?!1:A(n).toRgbString()==A(t).toRgbString()};A.random=function(){return A.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Eo(n,t){t=t===0?0:t||10;var e=A(n).toHsl();return e.s-=t/100,e.s=Ve(e.s),A(e)}function Mo(n,t){t=t===0?0:t||10;var e=A(n).toHsl();return e.s+=t/100,e.s=Ve(e.s),A(e)}function So(n){return A(n).desaturate(100)}function _o(n,t){t=t===0?0:t||10;var e=A(n).toHsl();return e.l+=t/100,e.l=Ve(e.l),A(e)}function Ao(n,t){t=t===0?0:t||10;var e=A(n).toRgb();return e.r=Math.max(0,Math.min(255,e.r-Math.round(255*-(t/100)))),e.g=Math.max(0,Math.min(255,e.g-Math.round(255*-(t/100)))),e.b=Math.max(0,Math.min(255,e.b-Math.round(255*-(t/100)))),A(e)}function Co(n,t){t=t===0?0:t||10;var e=A(n).toHsl();return e.l-=t/100,e.l=Ve(e.l),A(e)}function Oo(n,t){var e=A(n).toHsl(),r=(e.h+t)%360;return e.h=r<0?360+r:r,A(e)}function No(n){var t=A(n).toHsl();return t.h=(t.h+180)%360,A(t)}function Er(n,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var e=A(n).toHsl(),r=[A(n)],i=360/t,s=1;s<t;s++)r.push(A({h:(e.h+s*i)%360,s:e.s,l:e.l}));return r}function Po(n){var t=A(n).toHsl(),e=t.h;return[A(n),A({h:(e+72)%360,s:t.s,l:t.l}),A({h:(e+216)%360,s:t.s,l:t.l})]}function ko(n,t,e){t=t||6,e=e||30;var r=A(n).toHsl(),i=360/e,s=[A(n)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,s.push(A(r));return s}function Io(n,t){t=t||6;for(var e=A(n).toHsv(),r=e.h,i=e.s,s=e.v,l=[],a=1/t;t--;)l.push(A({h:r,s:i,v:s})),s=(s+a)%1;return l}A.mix=function(n,t,e){e=e===0?0:e||50;var r=A(n).toRgb(),i=A(t).toRgb(),s=e/100,l={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return A(l)};A.readability=function(n,t){var e=A(n),r=A(t);return(Math.max(e.getLuminance(),r.getLuminance())+.05)/(Math.min(e.getLuminance(),r.getLuminance())+.05)};A.isReadable=function(n,t,e){var r=A.readability(n,t),i,s;switch(s=!1,i=Fo(e),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};A.mostReadable=function(n,t,e){var r=null,i=0,s,l,a,u;e=e||{},l=e.includeFallbackColors,a=e.level,u=e.size;for(var h=0;h<t.length;h++)s=A.readability(n,t[h]),s>i&&(i=s,r=A(t[h]));return A.isReadable(n,r,{level:a,size:u})||!l?r:(e.includeFallbackColors=!1,A.mostReadable(n,["#fff","#000"],e))};var bn=A.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Ro=A.hexNames=Vo(bn);function Vo(n){var t={};for(var e in n)n.hasOwnProperty(e)&&(t[n[e]]=e);return t}function ii(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function B(n,t){Do(n)&&(n="100%");var e=Lo(n);return n=Math.min(t,Math.max(0,parseFloat(n))),e&&(n=parseInt(n*t,10)/100),Math.abs(n-t)<1e-6?1:n%t/parseFloat(t)}function Ve(n){return Math.min(1,Math.max(0,n))}function at(n){return parseInt(n,16)}function Do(n){return typeof n=="string"&&n.indexOf(".")!=-1&&parseFloat(n)===1}function Lo(n){return typeof n=="string"&&n.indexOf("%")!=-1}function vt(n){return n.length==1?"0"+n:""+n}function te(n){return n<=1&&(n=n*100+"%"),n}function si(n){return Math.round(parseFloat(n)*255).toString(16)}function Mr(n){return at(n)/255}var mt=(function(){var n="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",e="(?:"+t+")|(?:"+n+")",r="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",i="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function Mt(n){return!!mt.CSS_UNIT.exec(n)}function zo(n){n=n.replace(go,"").replace(vo,"").toLowerCase();var t=!1;if(bn[n])n=bn[n],t=!0;else if(n=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var e;return(e=mt.rgb.exec(n))?{r:e[1],g:e[2],b:e[3]}:(e=mt.rgba.exec(n))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=mt.hsl.exec(n))?{h:e[1],s:e[2],l:e[3]}:(e=mt.hsla.exec(n))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=mt.hsv.exec(n))?{h:e[1],s:e[2],v:e[3]}:(e=mt.hsva.exec(n))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=mt.hex8.exec(n))?{r:at(e[1]),g:at(e[2]),b:at(e[3]),a:Mr(e[4]),format:t?"name":"hex8"}:(e=mt.hex6.exec(n))?{r:at(e[1]),g:at(e[2]),b:at(e[3]),format:t?"name":"hex"}:(e=mt.hex4.exec(n))?{r:at(e[1]+""+e[1]),g:at(e[2]+""+e[2]),b:at(e[3]+""+e[3]),a:Mr(e[4]+""+e[4]),format:t?"name":"hex8"}:(e=mt.hex3.exec(n))?{r:at(e[1]+""+e[1]),g:at(e[2]+""+e[2]),b:at(e[3]+""+e[3]),format:t?"name":"hex"}:!1}function Fo(n){var t,e;return n=n||{level:"AA",size:"small"},t=(n.level||"AA").toUpperCase(),e=(n.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),e!=="small"&&e!=="large"&&(e="small"),{level:t,size:e}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var oi=function(n,t){return(oi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])})(n,t)};function ai(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}oi(n,t),n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function li(n){var t="";Array.isArray(n)||(n=[n]);for(var e=0;e<n.length;e++){var r=n[e];if(r.type===E.CLOSE_PATH)t+="z";else if(r.type===E.HORIZ_LINE_TO)t+=(r.relative?"h":"H")+r.x;else if(r.type===E.VERT_LINE_TO)t+=(r.relative?"v":"V")+r.y;else if(r.type===E.MOVE_TO)t+=(r.relative?"m":"M")+r.x+" "+r.y;else if(r.type===E.LINE_TO)t+=(r.relative?"l":"L")+r.x+" "+r.y;else if(r.type===E.CURVE_TO)t+=(r.relative?"c":"C")+r.x1+" "+r.y1+" "+r.x2+" "+r.y2+" "+r.x+" "+r.y;else if(r.type===E.SMOOTH_CURVE_TO)t+=(r.relative?"s":"S")+r.x2+" "+r.y2+" "+r.x+" "+r.y;else if(r.type===E.QUAD_TO)t+=(r.relative?"q":"Q")+r.x1+" "+r.y1+" "+r.x+" "+r.y;else if(r.type===E.SMOOTH_QUAD_TO)t+=(r.relative?"t":"T")+r.x+" "+r.y;else{if(r.type!==E.ARC)throw new Error('Unexpected command type "'+r.type+'" at index '+e+".");t+=(r.relative?"a":"A")+r.rX+" "+r.rY+" "+r.xRot+" "+ +r.lArcFlag+" "+ +r.sweepFlag+" "+r.x+" "+r.y}}return t}function xn(n,t){var e=n[0],r=n[1];return[e*Math.cos(t)-r*Math.sin(t),e*Math.sin(t)+r*Math.cos(t)]}function gt(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var e=0;e<n.length;e++)if(typeof n[e]!="number")throw new Error("assertNumbers arguments["+e+"] is not a number. "+typeof n[e]+" == typeof "+n[e]);return!0}var Ct=Math.PI;function an(n,t,e){n.lArcFlag=n.lArcFlag===0?0:1,n.sweepFlag=n.sweepFlag===0?0:1;var r=n.rX,i=n.rY,s=n.x,l=n.y;r=Math.abs(n.rX),i=Math.abs(n.rY);var a=xn([(t-s)/2,(e-l)/2],-n.xRot/180*Ct),u=a[0],h=a[1],o=Math.pow(u,2)/Math.pow(r,2)+Math.pow(h,2)/Math.pow(i,2);1<o&&(r*=Math.sqrt(o),i*=Math.sqrt(o)),n.rX=r,n.rY=i;var c=Math.pow(r,2)*Math.pow(h,2)+Math.pow(i,2)*Math.pow(u,2),f=(n.lArcFlag!==n.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(r,2)*Math.pow(i,2)-c)/c)),p=r*h/i*f,v=-i*u/r*f,g=xn([p,v],n.xRot/180*Ct);n.cX=g[0]+(t+s)/2,n.cY=g[1]+(e+l)/2,n.phi1=Math.atan2((h-v)/i,(u-p)/r),n.phi2=Math.atan2((-h-v)/i,(-u-p)/r),n.sweepFlag===0&&n.phi2>n.phi1&&(n.phi2-=2*Ct),n.sweepFlag===1&&n.phi2<n.phi1&&(n.phi2+=2*Ct),n.phi1*=180/Ct,n.phi2*=180/Ct}function Sr(n,t,e){gt(n,t,e);var r=n*n+t*t-e*e;if(0>r)return[];if(r===0)return[[n*e/(n*n+t*t),t*e/(n*n+t*t)]];var i=Math.sqrt(r);return[[(n*e+t*i)/(n*n+t*t),(t*e-n*i)/(n*n+t*t)],[(n*e-t*i)/(n*n+t*t),(t*e+n*i)/(n*n+t*t)]]}var Y,St=Math.PI/180;function _r(n,t,e){return(1-e)*n+e*t}function Ar(n,t,e,r){return n+Math.cos(r/180*Ct)*t+Math.sin(r/180*Ct)*e}function Cr(n,t,e,r){var i=1e-6,s=t-n,l=e-t,a=3*s+3*(r-e)-6*l,u=6*(l-s),h=3*s;return Math.abs(a)<i?[-h/u]:(function(o,c,f){var p=o*o/4-c;if(p<-f)return[];if(p<=f)return[-o/2];var v=Math.sqrt(p);return[-o/2-v,-o/2+v]})(u/a,h/a,i)}function Or(n,t,e,r,i){var s=1-i;return n*(s*s*s)+t*(3*s*s*i)+e*(3*s*i*i)+r*(i*i*i)}(function(n){function t(){return i((function(a,u,h){return a.relative&&(a.x1!==void 0&&(a.x1+=u),a.y1!==void 0&&(a.y1+=h),a.x2!==void 0&&(a.x2+=u),a.y2!==void 0&&(a.y2+=h),a.x!==void 0&&(a.x+=u),a.y!==void 0&&(a.y+=h),a.relative=!1),a}))}function e(){var a=NaN,u=NaN,h=NaN,o=NaN;return i((function(c,f,p){return c.type&E.SMOOTH_CURVE_TO&&(c.type=E.CURVE_TO,a=isNaN(a)?f:a,u=isNaN(u)?p:u,c.x1=c.relative?f-a:2*f-a,c.y1=c.relative?p-u:2*p-u),c.type&E.CURVE_TO?(a=c.relative?f+c.x2:c.x2,u=c.relative?p+c.y2:c.y2):(a=NaN,u=NaN),c.type&E.SMOOTH_QUAD_TO&&(c.type=E.QUAD_TO,h=isNaN(h)?f:h,o=isNaN(o)?p:o,c.x1=c.relative?f-h:2*f-h,c.y1=c.relative?p-o:2*p-o),c.type&E.QUAD_TO?(h=c.relative?f+c.x1:c.x1,o=c.relative?p+c.y1:c.y1):(h=NaN,o=NaN),c}))}function r(){var a=NaN,u=NaN;return i((function(h,o,c){if(h.type&E.SMOOTH_QUAD_TO&&(h.type=E.QUAD_TO,a=isNaN(a)?o:a,u=isNaN(u)?c:u,h.x1=h.relative?o-a:2*o-a,h.y1=h.relative?c-u:2*c-u),h.type&E.QUAD_TO){a=h.relative?o+h.x1:h.x1,u=h.relative?c+h.y1:h.y1;var f=h.x1,p=h.y1;h.type=E.CURVE_TO,h.x1=((h.relative?0:o)+2*f)/3,h.y1=((h.relative?0:c)+2*p)/3,h.x2=(h.x+2*f)/3,h.y2=(h.y+2*p)/3}else a=NaN,u=NaN;return h}))}function i(a){var u=0,h=0,o=NaN,c=NaN;return function(f){if(isNaN(o)&&!(f.type&E.MOVE_TO))throw new Error("path must start with moveto");var p=a(f,u,h,o,c);return f.type&E.CLOSE_PATH&&(u=o,h=c),f.x!==void 0&&(u=f.relative?u+f.x:f.x),f.y!==void 0&&(h=f.relative?h+f.y:f.y),f.type&E.MOVE_TO&&(o=u,c=h),p}}function s(a,u,h,o,c,f){return gt(a,u,h,o,c,f),i((function(p,v,g,b){var w=p.x1,T=p.x2,O=p.relative&&!isNaN(b),_=p.x!==void 0?p.x:O?0:v,D=p.y!==void 0?p.y:O?0:g;function P(ut){return ut*ut}p.type&E.HORIZ_LINE_TO&&u!==0&&(p.type=E.LINE_TO,p.y=p.relative?0:g),p.type&E.VERT_LINE_TO&&h!==0&&(p.type=E.LINE_TO,p.x=p.relative?0:v),p.x!==void 0&&(p.x=p.x*a+D*h+(O?0:c)),p.y!==void 0&&(p.y=_*u+p.y*o+(O?0:f)),p.x1!==void 0&&(p.x1=p.x1*a+p.y1*h+(O?0:c)),p.y1!==void 0&&(p.y1=w*u+p.y1*o+(O?0:f)),p.x2!==void 0&&(p.x2=p.x2*a+p.y2*h+(O?0:c)),p.y2!==void 0&&(p.y2=T*u+p.y2*o+(O?0:f));var N=a*o-u*h;if(p.xRot!==void 0&&(a!==1||u!==0||h!==0||o!==1))if(N===0)delete p.rX,delete p.rY,delete p.xRot,delete p.lArcFlag,delete p.sweepFlag,p.type=E.LINE_TO;else{var C=p.xRot*Math.PI/180,R=Math.sin(C),W=Math.cos(C),U=1/P(p.rX),z=1/P(p.rY),F=P(W)*U+P(R)*z,H=2*R*W*(U-z),X=P(R)*U+P(W)*z,$=F*o*o-H*u*o+X*u*u,q=H*(a*o+u*h)-2*(F*h*o+X*a*u),tt=F*h*h-H*a*h+X*a*a,Z=(Math.atan2(q,$-tt)+Math.PI)%Math.PI/2,G=Math.sin(Z),rt=Math.cos(Z);p.rX=Math.abs(N)/Math.sqrt($*P(rt)+q*G*rt+tt*P(G)),p.rY=Math.abs(N)/Math.sqrt($*P(G)-q*G*rt+tt*P(rt)),p.xRot=180*Z/Math.PI}return p.sweepFlag!==void 0&&0>N&&(p.sweepFlag=+!p.sweepFlag),p}))}function l(){return function(a){var u={};for(var h in a)u[h]=a[h];return u}}n.ROUND=function(a){function u(h){return Math.round(h*a)/a}return a===void 0&&(a=1e13),gt(a),function(h){return h.x1!==void 0&&(h.x1=u(h.x1)),h.y1!==void 0&&(h.y1=u(h.y1)),h.x2!==void 0&&(h.x2=u(h.x2)),h.y2!==void 0&&(h.y2=u(h.y2)),h.x!==void 0&&(h.x=u(h.x)),h.y!==void 0&&(h.y=u(h.y)),h.rX!==void 0&&(h.rX=u(h.rX)),h.rY!==void 0&&(h.rY=u(h.rY)),h}},n.TO_ABS=t,n.TO_REL=function(){return i((function(a,u,h){return a.relative||(a.x1!==void 0&&(a.x1-=u),a.y1!==void 0&&(a.y1-=h),a.x2!==void 0&&(a.x2-=u),a.y2!==void 0&&(a.y2-=h),a.x!==void 0&&(a.x-=u),a.y!==void 0&&(a.y-=h),a.relative=!0),a}))},n.NORMALIZE_HVZ=function(a,u,h){return a===void 0&&(a=!0),u===void 0&&(u=!0),h===void 0&&(h=!0),i((function(o,c,f,p,v){if(isNaN(p)&&!(o.type&E.MOVE_TO))throw new Error("path must start with moveto");return u&&o.type&E.HORIZ_LINE_TO&&(o.type=E.LINE_TO,o.y=o.relative?0:f),h&&o.type&E.VERT_LINE_TO&&(o.type=E.LINE_TO,o.x=o.relative?0:c),a&&o.type&E.CLOSE_PATH&&(o.type=E.LINE_TO,o.x=o.relative?p-c:p,o.y=o.relative?v-f:v),o.type&E.ARC&&(o.rX===0||o.rY===0)&&(o.type=E.LINE_TO,delete o.rX,delete o.rY,delete o.xRot,delete o.lArcFlag,delete o.sweepFlag),o}))},n.NORMALIZE_ST=e,n.QT_TO_C=r,n.INFO=i,n.SANITIZE=function(a){a===void 0&&(a=0),gt(a);var u=NaN,h=NaN,o=NaN,c=NaN;return i((function(f,p,v,g,b){var w=Math.abs,T=!1,O=0,_=0;if(f.type&E.SMOOTH_CURVE_TO&&(O=isNaN(u)?0:p-u,_=isNaN(h)?0:v-h),f.type&(E.CURVE_TO|E.SMOOTH_CURVE_TO)?(u=f.relative?p+f.x2:f.x2,h=f.relative?v+f.y2:f.y2):(u=NaN,h=NaN),f.type&E.SMOOTH_QUAD_TO?(o=isNaN(o)?p:2*p-o,c=isNaN(c)?v:2*v-c):f.type&E.QUAD_TO?(o=f.relative?p+f.x1:f.x1,c=f.relative?v+f.y1:f.y2):(o=NaN,c=NaN),f.type&E.LINE_COMMANDS||f.type&E.ARC&&(f.rX===0||f.rY===0||!f.lArcFlag)||f.type&E.CURVE_TO||f.type&E.SMOOTH_CURVE_TO||f.type&E.QUAD_TO||f.type&E.SMOOTH_QUAD_TO){var D=f.x===void 0?0:f.relative?f.x:f.x-p,P=f.y===void 0?0:f.relative?f.y:f.y-v;O=isNaN(o)?f.x1===void 0?O:f.relative?f.x:f.x1-p:o-p,_=isNaN(c)?f.y1===void 0?_:f.relative?f.y:f.y1-v:c-v;var N=f.x2===void 0?0:f.relative?f.x:f.x2-p,C=f.y2===void 0?0:f.relative?f.y:f.y2-v;w(D)<=a&&w(P)<=a&&w(O)<=a&&w(_)<=a&&w(N)<=a&&w(C)<=a&&(T=!0)}return f.type&E.CLOSE_PATH&&w(p-g)<=a&&w(v-b)<=a&&(T=!0),T?[]:f}))},n.MATRIX=s,n.ROTATE=function(a,u,h){u===void 0&&(u=0),h===void 0&&(h=0),gt(a,u,h);var o=Math.sin(a),c=Math.cos(a);return s(c,o,-o,c,u-u*c+h*o,h-u*o-h*c)},n.TRANSLATE=function(a,u){return u===void 0&&(u=0),gt(a,u),s(1,0,0,1,a,u)},n.SCALE=function(a,u){return u===void 0&&(u=a),gt(a,u),s(a,0,0,u,0,0)},n.SKEW_X=function(a){return gt(a),s(1,0,Math.atan(a),1,0,0)},n.SKEW_Y=function(a){return gt(a),s(1,Math.atan(a),0,1,0,0)},n.X_AXIS_SYMMETRY=function(a){return a===void 0&&(a=0),gt(a),s(-1,0,0,1,a,0)},n.Y_AXIS_SYMMETRY=function(a){return a===void 0&&(a=0),gt(a),s(1,0,0,-1,0,a)},n.A_TO_C=function(){return i((function(a,u,h){return E.ARC===a.type?(function(o,c,f){var p,v,g,b;o.cX||an(o,c,f);for(var w=Math.min(o.phi1,o.phi2),T=Math.max(o.phi1,o.phi2)-w,O=Math.ceil(T/90),_=new Array(O),D=c,P=f,N=0;N<O;N++){var C=_r(o.phi1,o.phi2,N/O),R=_r(o.phi1,o.phi2,(N+1)/O),W=R-C,U=4/3*Math.tan(W*St/4),z=[Math.cos(C*St)-U*Math.sin(C*St),Math.sin(C*St)+U*Math.cos(C*St)],F=z[0],H=z[1],X=[Math.cos(R*St),Math.sin(R*St)],$=X[0],q=X[1],tt=[$+U*Math.sin(R*St),q-U*Math.cos(R*St)],Z=tt[0],G=tt[1];_[N]={relative:o.relative,type:E.CURVE_TO};var rt=function(ut,It){var Zt=xn([ut*o.rX,It*o.rY],o.xRot),De=Zt[0],Le=Zt[1];return[o.cX+De,o.cY+Le]};p=rt(F,H),_[N].x1=p[0],_[N].y1=p[1],v=rt(Z,G),_[N].x2=v[0],_[N].y2=v[1],g=rt($,q),_[N].x=g[0],_[N].y=g[1],o.relative&&(_[N].x1-=D,_[N].y1-=P,_[N].x2-=D,_[N].y2-=P,_[N].x-=D,_[N].y-=P),D=(b=[_[N].x,_[N].y])[0],P=b[1]}return _})(a,a.relative?0:u,a.relative?0:h):a}))},n.ANNOTATE_ARCS=function(){return i((function(a,u,h){return a.relative&&(u=0,h=0),E.ARC===a.type&&an(a,u,h),a}))},n.CLONE=l,n.CALCULATE_BOUNDS=function(){var a=function(f){var p={};for(var v in f)p[v]=f[v];return p},u=t(),h=r(),o=e(),c=i((function(f,p,v){var g=o(h(u(a(f))));function b(G){G>c.maxX&&(c.maxX=G),G<c.minX&&(c.minX=G)}function w(G){G>c.maxY&&(c.maxY=G),G<c.minY&&(c.minY=G)}if(g.type&E.DRAWING_COMMANDS&&(b(p),w(v)),g.type&E.HORIZ_LINE_TO&&b(g.x),g.type&E.VERT_LINE_TO&&w(g.y),g.type&E.LINE_TO&&(b(g.x),w(g.y)),g.type&E.CURVE_TO){b(g.x),w(g.y);for(var T=0,O=Cr(p,g.x1,g.x2,g.x);T<O.length;T++)0<(Z=O[T])&&1>Z&&b(Or(p,g.x1,g.x2,g.x,Z));for(var _=0,D=Cr(v,g.y1,g.y2,g.y);_<D.length;_++)0<(Z=D[_])&&1>Z&&w(Or(v,g.y1,g.y2,g.y,Z))}if(g.type&E.ARC){b(g.x),w(g.y),an(g,p,v);for(var P=g.xRot/180*Math.PI,N=Math.cos(P)*g.rX,C=Math.sin(P)*g.rX,R=-Math.sin(P)*g.rY,W=Math.cos(P)*g.rY,U=g.phi1<g.phi2?[g.phi1,g.phi2]:-180>g.phi2?[g.phi2+360,g.phi1+360]:[g.phi2,g.phi1],z=U[0],F=U[1],H=function(G){var rt=G[0],ut=G[1],It=180*Math.atan2(ut,rt)/Math.PI;return It<z?It+360:It},X=0,$=Sr(R,-N,0).map(H);X<$.length;X++)(Z=$[X])>z&&Z<F&&b(Ar(g.cX,N,R,Z));for(var q=0,tt=Sr(W,-C,0).map(H);q<tt.length;q++){var Z;(Z=tt[q])>z&&Z<F&&w(Ar(g.cY,C,W,Z))}}return f}));return c.minX=1/0,c.maxX=-1/0,c.minY=1/0,c.maxY=-1/0,c}})(Y||(Y={}));var dt,ui=(function(){function n(){}return n.prototype.round=function(t){return this.transform(Y.ROUND(t))},n.prototype.toAbs=function(){return this.transform(Y.TO_ABS())},n.prototype.toRel=function(){return this.transform(Y.TO_REL())},n.prototype.normalizeHVZ=function(t,e,r){return this.transform(Y.NORMALIZE_HVZ(t,e,r))},n.prototype.normalizeST=function(){return this.transform(Y.NORMALIZE_ST())},n.prototype.qtToC=function(){return this.transform(Y.QT_TO_C())},n.prototype.aToC=function(){return this.transform(Y.A_TO_C())},n.prototype.sanitize=function(t){return this.transform(Y.SANITIZE(t))},n.prototype.translate=function(t,e){return this.transform(Y.TRANSLATE(t,e))},n.prototype.scale=function(t,e){return this.transform(Y.SCALE(t,e))},n.prototype.rotate=function(t,e,r){return this.transform(Y.ROTATE(t,e,r))},n.prototype.matrix=function(t,e,r,i,s,l){return this.transform(Y.MATRIX(t,e,r,i,s,l))},n.prototype.skewX=function(t){return this.transform(Y.SKEW_X(t))},n.prototype.skewY=function(t){return this.transform(Y.SKEW_Y(t))},n.prototype.xSymmetry=function(t){return this.transform(Y.X_AXIS_SYMMETRY(t))},n.prototype.ySymmetry=function(t){return this.transform(Y.Y_AXIS_SYMMETRY(t))},n.prototype.annotateArcs=function(){return this.transform(Y.ANNOTATE_ARCS())},n})(),Zo=function(n){return n===" "||n==="	"||n==="\r"||n===`
`},Nr=function(n){return 48<=n.charCodeAt(0)&&n.charCodeAt(0)<=57},Ho=(function(n){function t(){var e=n.call(this)||this;return e.curNumber="",e.curCommandType=-1,e.curCommandRelative=!1,e.canParseCommandOrComma=!0,e.curNumberHasExp=!1,e.curNumberHasExpDigits=!1,e.curNumberHasDecimal=!1,e.curArgs=[],e}return ai(t,n),t.prototype.finish=function(e){if(e===void 0&&(e=[]),this.parse(" ",e),this.curArgs.length!==0||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return e},t.prototype.parse=function(e,r){var i=this;r===void 0&&(r=[]);for(var s=function(c){r.push(c),i.curArgs.length=0,i.canParseCommandOrComma=!0},l=0;l<e.length;l++){var a=e[l],u=!(this.curCommandType!==E.ARC||this.curArgs.length!==3&&this.curArgs.length!==4||this.curNumber.length!==1||this.curNumber!=="0"&&this.curNumber!=="1"),h=Nr(a)&&(this.curNumber==="0"&&a==="0"||u);if(!Nr(a)||h)if(a!=="e"&&a!=="E")if(a!=="-"&&a!=="+"||!this.curNumberHasExp||this.curNumberHasExpDigits)if(a!=="."||this.curNumberHasExp||this.curNumberHasDecimal||u){if(this.curNumber&&this.curCommandType!==-1){var o=Number(this.curNumber);if(isNaN(o))throw new SyntaxError("Invalid number ending at "+l);if(this.curCommandType===E.ARC){if(this.curArgs.length===0||this.curArgs.length===1){if(0>o)throw new SyntaxError('Expected positive number, got "'+o+'" at index "'+l+'"')}else if((this.curArgs.length===3||this.curArgs.length===4)&&this.curNumber!=="0"&&this.curNumber!=="1")throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+l+'"')}this.curArgs.push(o),this.curArgs.length===Uo[this.curCommandType]&&(E.HORIZ_LINE_TO===this.curCommandType?s({type:E.HORIZ_LINE_TO,relative:this.curCommandRelative,x:o}):E.VERT_LINE_TO===this.curCommandType?s({type:E.VERT_LINE_TO,relative:this.curCommandRelative,y:o}):this.curCommandType===E.MOVE_TO||this.curCommandType===E.LINE_TO||this.curCommandType===E.SMOOTH_QUAD_TO?(s({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),E.MOVE_TO===this.curCommandType&&(this.curCommandType=E.LINE_TO)):this.curCommandType===E.CURVE_TO?s({type:E.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===E.SMOOTH_CURVE_TO?s({type:E.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===E.QUAD_TO?s({type:E.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===E.ARC&&s({type:E.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!Zo(a))if(a===","&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if(a!=="+"&&a!=="-"&&a!==".")if(h)this.curNumber=a,this.curNumberHasDecimal=!1;else{if(this.curArgs.length!==0)throw new SyntaxError("Unterminated command at index "+l+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+a+'" at index '+l+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,a!=="z"&&a!=="Z")if(a==="h"||a==="H")this.curCommandType=E.HORIZ_LINE_TO,this.curCommandRelative=a==="h";else if(a==="v"||a==="V")this.curCommandType=E.VERT_LINE_TO,this.curCommandRelative=a==="v";else if(a==="m"||a==="M")this.curCommandType=E.MOVE_TO,this.curCommandRelative=a==="m";else if(a==="l"||a==="L")this.curCommandType=E.LINE_TO,this.curCommandRelative=a==="l";else if(a==="c"||a==="C")this.curCommandType=E.CURVE_TO,this.curCommandRelative=a==="c";else if(a==="s"||a==="S")this.curCommandType=E.SMOOTH_CURVE_TO,this.curCommandRelative=a==="s";else if(a==="q"||a==="Q")this.curCommandType=E.QUAD_TO,this.curCommandRelative=a==="q";else if(a==="t"||a==="T")this.curCommandType=E.SMOOTH_QUAD_TO,this.curCommandRelative=a==="t";else{if(a!=="a"&&a!=="A")throw new SyntaxError('Unexpected character "'+a+'" at index '+l+".");this.curCommandType=E.ARC,this.curCommandRelative=a==="a"}else r.push({type:E.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=a,this.curNumberHasDecimal=a==="."}else this.curNumber+=a,this.curNumberHasDecimal=!0;else this.curNumber+=a;else this.curNumber+=a,this.curNumberHasExp=!0;else this.curNumber+=a,this.curNumberHasExpDigits=this.curNumberHasExp}return r},t.prototype.transform=function(e){return Object.create(this,{parse:{value:function(r,i){i===void 0&&(i=[]);for(var s=0,l=Object.getPrototypeOf(this).parse.call(this,r);s<l.length;s++){var a=l[s],u=e(a);Array.isArray(u)?i.push.apply(i,u):i.push(u)}return i}}})},t})(ui),E=(function(n){function t(e){var r=n.call(this)||this;return r.commands=typeof e=="string"?t.parse(e):e,r}return ai(t,n),t.prototype.encode=function(){return t.encode(this.commands)},t.prototype.getBounds=function(){var e=Y.CALCULATE_BOUNDS();return this.transform(e),e},t.prototype.transform=function(e){for(var r=[],i=0,s=this.commands;i<s.length;i++){var l=e(s[i]);Array.isArray(l)?r.push.apply(r,l):r.push(l)}return this.commands=r,this},t.encode=function(e){return li(e)},t.parse=function(e){var r=new Ho,i=[];return r.parse(e,i),r.finish(i),i},t.CLOSE_PATH=1,t.MOVE_TO=2,t.HORIZ_LINE_TO=4,t.VERT_LINE_TO=8,t.LINE_TO=16,t.CURVE_TO=32,t.SMOOTH_CURVE_TO=64,t.QUAD_TO=128,t.SMOOTH_QUAD_TO=256,t.ARC=512,t.LINE_COMMANDS=t.LINE_TO|t.HORIZ_LINE_TO|t.VERT_LINE_TO,t.DRAWING_COMMANDS=t.HORIZ_LINE_TO|t.VERT_LINE_TO|t.LINE_TO|t.CURVE_TO|t.SMOOTH_CURVE_TO|t.QUAD_TO|t.SMOOTH_QUAD_TO|t.ARC,t})(ui),Uo=((dt={})[E.MOVE_TO]=2,dt[E.LINE_TO]=2,dt[E.HORIZ_LINE_TO]=1,dt[E.VERT_LINE_TO]=1,dt[E.CLOSE_PATH]=0,dt[E.QUAD_TO]=4,dt[E.SMOOTH_QUAD_TO]=2,dt[E.CURVE_TO]=6,dt[E.SMOOTH_CURVE_TO]=4,dt[E.ARC]=7,dt),Ot;function Pt(n){if(n.children!==void 0)return n.children;let t,e=0;const r=n.childNodes,i=[];for(;t=r[e++];)t.nodeType===1&&i.push(t);return i}function Sn(n){const t=n.parentNode;return t&&t.nodeType===Node.ELEMENT_NODE?t:null}function ln(n,t){for(;t.firstChild;)n.append(t.firstChild);return n}function qt(n){if(n===null)return null;const t=/url\('#?(.*?)'\)/.exec(n)||/url\("#?(.*?)"\)/.exec(n)||/url\(#?(.*?)\)/.exec(n);return t&&t.length>1?t[1]:null}(function(n){n[n.SVG=0]="SVG",n[n.CANVAS=1]="CANVAS"})(Ot||(Ot={}));const ie="data-sketchy-clip-path",qo=/[acsqt]/i;function _n(n){if(n.svgSketchDefs)return n.svgSketchDefs;const t=n.svgSketch,e=document.createElementNS("http://www.w3.org/2000/svg","defs");return t.childElementCount>0?t.insertBefore(e,t.firstElementChild):t.appendChild(e),n.svgSketchDefs=e,e}function Pr(n){const t=n.getAttribute("points");if(!t)return[];let e;e=t.indexOf(" ")>0?/\s+/g:/,/g;const r=t.split(e),i=[];for(let s=0;s<r.length;s++){const l=r[s],a=l.split(",");if(a.length===2)i.push({x:parseFloat(a[0]),y:parseFloat(a[1])});else{const u=s+1;u<r.length&&(i.push({x:parseFloat(l),y:parseFloat(r[u])}),s=u)}}return i}function lt(n,t,e){let r=e;const i=t.getAttribute(ie),s=n.pencilFilter&&t.tagName!=="text";if(!(r.tagName==="g"&&r.attributes.length===0)&&(i||s)){const l=document.createElementNS("http://www.w3.org/2000/svg","g");l.appendChild(r),r=l}i&&(r.setAttribute("clip-path",`url(#${i})`),t.removeAttribute(ie)),s&&r.setAttribute("filter","url(#pencilTextureFilter)"),n.svgSketch.appendChild(r)}function Ee(n,t,e){return qo.test(t)&&(e=e?Object.assign(Object.assign({},e),{preserveVertices:!0}):{preserveVertices:!0}),n.rc.path(t,e)}function K(n,t,e,r){let i;if(i=r?t.getAttribute(e):getComputedStyle(t)[e]||t.getAttribute(e),!i){let s=Sn(t);const l=r;let a=l;return l&&l.referenced===t&&(s=l.root,a=l.parentContext),!s||s===n.sourceSvg?void 0:K(n,s,e,a)}return i}function hi(n,t,e,r){let i;if(i=r?t.getAttribute("opacity"):getComputedStyle(t).opacity||t.getAttribute("opacity"),i){let u=1;u=i.indexOf("%")!==-1?Math.min(1,Math.max(0,parseFloat(i.substring(0,i.length-1))/100)):Math.min(1,Math.max(0,parseFloat(i))),e*=u}let s=Sn(t);const l=r;let a=l;return l&&l.referenced===t&&(s=l.root,a=l.parentContext),s&&s!==n.sourceSvg?hi(n,s,e,a):e}function Ft(n,t,e){const{fillId:r,strokeId:i}=(function(s,l){function a(u){const h=l.getAttribute(u);if(h&&h.indexOf("url")!==-1){const o=qt(h);if(o&&s.idElements[o]instanceof SVGPatternElement)return o}return null}return{fillId:a("fill"),strokeId:a("stroke")}})(n,t);if(r!==null||i!==null){const s=e();s.setAttribute("fill",r!==null?`url(#${r})`:"none"),s.setAttribute("stroke",i!==null?`url(#${i})`:"none");const l=K(n,t,"stroke-width",n.useElementContext);s.setAttribute("stroke-width",l??"0"),lt(n,t,s),kr(n,r),kr(n,i)}}function kr(n,t){if(t===null)return;const e=_n(n),r=`#${t}`;if(!e.querySelector(r)){const i=n.sourceSvg.querySelector(r);if(i){if(!n.sketchPatterns)return void e.appendChild(i.cloneNode(!0));const s=(function(a,u,h){const o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.appendChild(u);const c=Object.assign(Object.assign({},a),{sourceSvg:o,svgSketch:document.createElementNS("http://www.w3.org/2000/svg","svg"),roughConfig:Object.assign(Object.assign({},a.roughConfig),h)});return c.processElement(c,u,null),ln(document.createElementNS("http://www.w3.org/2000/svg","g"),c.svgSketch)})(n,ln(document.createElementNS("http://www.w3.org/2000/svg","g"),i.cloneNode(!0)),{fillStyle:"solid",roughness:.5}),l=i.cloneNode();e.appendChild(ln(l,s))}}}const Go=/^([+-]?(?:\d+|\d*\.\d+(?:[eE][+-]?\d+)?))([a-z]*|%)$/,Ir={in:96,cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,px:1},Bo=Math.sqrt(2);function ee(n,t,e,r){const{value:i,unit:s}=un(e);return(function(l){return!!Ir[l]})(s)?(function(l,a){var u;const h=(u=Ir[a])!==null&&u!==void 0?u:1;return l*h})(i,s):(function(l,a,u,h,o){var c;const f=(c=l.viewBox)!==null&&c!==void 0?c:{w:0,h:0};if(o==="%")return(function(p,v,{w:g,h:b}={w:0,h:0}){const w=v/100;return p==="x"?w*g:p==="y"?w*b:w*(Math.sqrt(g*g+b*b)/Bo)})(u,h,f);if(o==="vw"||o==="vh"||o==="vmin"||o==="vmax")return(function(p,v,{w:g,h:b}={w:0,h:0}){var w,T;const O=p/100,_=(w=window.innerWidth)!==null&&w!==void 0?w:g,D=(T=window.innerHeight)!==null&&T!==void 0?T:b;if(v==="vw")return O*_;if(v==="vh")return O*D;if(v==="vmin")return O*Math.min(_,D);if(v==="vmax")return O*Math.max(_,D);throw new Error(`Not a viewport length unit: ${v}`)})(h,o,f);if(o==="em"||o==="ex"||o==="ch"||o==="rem")return(function(p,v,g,b){var w;if(b==="rem"){const D=document.documentElement,P=un(getComputedStyle(D).fontSize);return g*(P.unit==="px"?P.value:16)}if(b==="ch"){const D=(function(P){const N=Sn(P);if(!N)return 1;const C=document.createElementNS("http://www.w3.org/2000/svg","text");C.style.visibility="hidden",C.appendChild(document.createTextNode("0")),N.appendChild(C);const R=C.getBBox();return N.removeChild(C),R.width})(v);return g*D}const T=(w=K(p,v,"font-size",p.useElementContext))!==null&&w!==void 0?w:"16px",O=un(T),_=O.unit==="px"?O.value:16;if(b==="em")return g*_;if(b==="ex")return g*_*.5;throw new Error(`Not a font relative unit: ${b}`)})(l,a,h,o);throw new Error(`Unsupported relative length unit: ${o}`)})(n,t,r,i,s)}function un(n){const t=n.match(Go);if(t===null||t.length!==3)throw new Error(`Cannot parse dimension: ${n}`);return{value:parseFloat(t[1]),unit:t[2].toLowerCase()||"px"}}function ne(n){if(!n)return!0;const t=n.matrix;return!t||t.a===1&&t.b===0&&t.c===0&&t.d===1&&t.e===0&&t.f===0}function hn(n){if(!n)return!0;const t=n.matrix;return!t||t.a===1&&t.b===0&&t.c===0&&t.d===1}function I(n,t){if(!t)return n;const e=t.matrix;return{x:e.a*n.x+e.c*n.y+e.e,y:e.b*n.x+e.d*n.y+e.f}}function Rr(n){return n.transform&&n.transform.baseVal.numberOfItems>0?n.transform.baseVal.consolidate():null}function se(n,t,e){if(!e)return Rr(t);const r=Rr(t);if(r){const i=r.matrix,s=e.matrix.multiply(i);return n.sourceSvg.createSVGTransformFromMatrix(s)}return e}function Nt(n,t,e){if(t&&t.matrix&&!ne(t)){const r=t.matrix;e.transform.baseVal.numberOfItems>0?e.transform.baseVal.getItem(0).setMatrix(r):e.transform.baseVal.appendItem(t)}}function Vr(n){var t;let e=n.getAttribute("stop-color");if(!e){const r=(t=n.getAttribute("style"))!==null&&t!==void 0?t:"",i=/stop-color:\s?(.*);?/.exec(r);i&&i.length>1&&(e=i[1])}return A(e||"white")}function Dr(n){const t=n.length;let e=0,r=0,i=0,s=0;return n.forEach((l=>{const a=l.toRgb();e+=a.r*a.r,r+=a.g*a.g,i+=a.b*a.b,s+=a.a})),A({r:Math.sqrt(e/t),g:Math.sqrt(r/t),b:Math.sqrt(i/t),a:s/t})}function Wo(n){const t=n.getAttribute("offset");return t?t.indexOf("%")?parseFloat(t.substring(0,t.length-1)):100*parseFloat(t):0}function Yo(n,t){if(n.roughConfig.fillStyle==="solid")return{angle:0,gap:0,weight:0};const{width:e,height:r}=t.getBoundingClientRect(),i=e/r,s=Math.sqrt(e*r),{angle:l,gap:a,weight:u}=(function(h){const o={angle:{normal:[-30,-50],horizontal:[-30,-50],vertical:[-30,-50]},weight:{normal:[.5,3],small:[.5,3]},gap:{normal:[3,5],small:[3,5]}},c={angle:{normal:[-30,-50],horizontal:[-50,-75],vertical:[-30,-15]},weight:{normal:[1,3],small:[.5,1.7]},gap:{normal:[2,5],small:[1,3]}};switch(h){default:return c;case"zigzag":case"zigzag-line":return Object.assign(Object.assign({},c),{weight:{normal:[.5,3],small:[.5,2]},gap:{normal:[2,6],small:[2,5]}});case"cross-hatch":return Object.assign(Object.assign({},c),{weight:{normal:[1,3],small:[.5,1.3]},gap:{normal:[4,8],small:[2,5]}});case"dots":return o}})(n.roughConfig.fillStyle);return{angle:Xo(n,l,i),gap:$o(n,a,s),weight:jo(n,u,s)}}function Xo({rng:n},{normal:t,horizontal:e,vertical:r},i){if(isFinite(i)){if(i<.25)return n.next(e);if(i>6)return n.next(r)}return n.next(t)}function $o({rng:n},{normal:t,small:e},r){return r<45?n.next(e):n.next(t)}function jo({rng:n},{normal:t,small:e},r){return r<45?n.next(e):n.next(t)}function wt(n,t,e){var r;const i=(r=n.roughConfig.fixedDecimalPlaceDigits)!==null&&r!==void 0?r:15,s=Object.assign({},n.roughConfig);let l=1;if(!ne(e)){const g=e.matrix,b=g.a*g.d-g.c*g.b;l=Math.sqrt(Math.abs(b))}const a=hi(n,t,1,n.useElementContext),u=K(n,t,"fill",n.useElementContext)||"black",h=a*Lr(t,"fill-opacity");if(u.indexOf("url")!==-1){const g=zr(n,u,h);g!=="none"?s.fill=g:delete s.fill}else if(u==="none")delete s.fill;else{const g=A(u);g.setAlpha(h),s.fill=g.toString()}const o=K(n,t,"stroke",n.useElementContext),c=a*Lr(t,"stroke-opacity");if(o)if(o.indexOf("url")!==-1)s.stroke=zr(n,o,c);else if(o==="none")s.stroke="none";else{const g=A(o);g.setAlpha(c),s.stroke=g.toString()}else s.stroke="none";const f=K(n,t,"stroke-width",n.useElementContext);if(f){const g=ee(n,t,f,"stroke-width")*l;s.strokeWidth=parseFloat(g.toFixed(i))}else s.strokeWidth=1;const p=K(n,t,"stroke-dasharray",n.useElementContext);p&&p!=="none"&&(s.strokeLineDash=p.split(/[\s,]+/).filter((g=>g.length>0)).map((g=>{const b=ee(n,t,g,"stroke-dasharray")*l;return Math.max(.5,parseFloat(b.toFixed(i)))})));const v=K(n,t,"stroke-dashoffset",n.useElementContext);if(v){const g=ee(n,t,v,"stroke-dashoffset")*l;s.strokeLineDashOffset=parseFloat(g.toFixed(i))}if(s.fill&&s.stroke==="none"&&(s.stroke=s.fill,s.strokeWidth=1),n.randomize){const{angle:g,gap:b,weight:w}=Yo(n,t);s.hachureAngle=g,s.hachureGap=Math.round(b),s.fillWeight=parseFloat(w.toFixed(i)),s.disableMultiStroke===void 0&&(s.disableMultiStroke=n.rng.next()>.3)}return s}function Lr(n,t){const e=getComputedStyle(n)[t]||n.getAttribute(t);return e?e.indexOf("%")!==-1?Math.min(1,Math.max(0,parseFloat(e.substring(0,e.length-1))/100)):Math.min(1,Math.max(0,parseFloat(e))):1}function zr(n,t,e){const r=qt(t);if(!r)return"none";const i=n.idElements[r];if(!i)return"none";if(typeof i=="string")return i;if(i instanceof SVGLinearGradientElement||i instanceof SVGRadialGradientElement){const s=(function(l,a){const u=Array.prototype.slice.apply(l.querySelectorAll("stop"));if(u.length===0)return"transparent";if(u.length===1){const h=Vr(u[0]);return h.setAlpha(a),h.toString()}{const o=[];let c=null;for(let p=0;p<u.length;p++){const v=Vr(u[p]),g=Wo(u[p]),b=c?Dr([c,v]):v;let w=Math.max(1,g/10|0);for(;w>0;)o.push(b),w--;c=v}const f=Dr(o);return f.setAlpha(a),f.toString()}})(i,e);return n.idElements[r]=s,s}return"none"}function V(n){return`${n.x},${n.y}`}function Me(n,t,e,r){if(e.length===0)return;const i=e[0],s=e[e.length-1],l=qt(t.getAttribute("marker-start")),a=l?n.idElements[l]:null;if(a&&e.length>1){let f=a.orientAngle.baseVal.value;const p=e[1],v=a.getAttribute("orient");if(v==="auto"||v==="auto-start-reverse"){const T=v==="auto"?0:180,O=e[e.length-2];Fr(e)?f=fn(O,s,p)-T:f=Ie({x:1,y:0},{x:p.x-i.x,y:p.y-i.y})-T}const g=n.sourceSvg.createSVGMatrix().translate(i.x,i.y).rotate(f).scale(cn(n,a,t)),b=r?r.matrix.multiply(g):g,w=n.sourceSvg.createSVGTransformFromMatrix(b);n.processElement(n,a,w)}const u=qt(t.getAttribute("marker-end")),h=u?n.idElements[u]:null;if(h){let f=h.orientAngle.baseVal.value;if(e.length>1){const b=h.getAttribute("orient");if(b==="auto"||b==="auto-start-reverse"){const w=e[e.length-2];Fr(e)?f=fn(w,s,e[1]):f=Ie({x:1,y:0},{x:s.x-w.x,y:s.y-w.y})}}const p=n.sourceSvg.createSVGMatrix().translate(s.x,s.y).rotate(f).scale(cn(n,h,t)),v=r?r.matrix.multiply(p):p,g=n.sourceSvg.createSVGTransformFromMatrix(v);n.processElement(n,h,g)}const o=qt(t.getAttribute("marker-mid")),c=o?n.idElements[o]:null;if(c&&e.length>2)for(let f=0;f<e.length;f++){const p=e[f];if(f===0||f===e.length-1)continue;let v=c.orientAngle.baseVal.value;const g=c.getAttribute("orient");(g==="auto"||g==="auto-start-reverse")&&(v=fn(e[f-1],p,e[f+1]));const b=n.sourceSvg.createSVGMatrix().translate(p.x,p.y).rotate(v).scale(cn(n,c,t)),w=r?r.matrix.multiply(b):b,T=n.sourceSvg.createSVGTransformFromMatrix(w);n.processElement(n,c,T)}}function cn(n,t,e){const r=t.getAttribute("markerUnits");let i=1;if(!r||r==="strokeWidth"){const s=K(n,e,"stroke-width");s&&(i=ee(n,e,s,"stroke-width"))}return i}function Fr(n){return t=n[0],e=n[n.length-1],t.x===e.x&&t.y===e.y;var t,e}function fn(n,t,e){const r={x:e.x-t.x,y:e.y-t.y},i=Ie(r,{x:n.x-t.x,y:n.y-t.y}),s=t.x+1,l=t.y,a=Ie(r,{x:s-t.x,y:l-t.y});return((u=i)-180*Math.sign(u))/2-a;var u}function Ie(n,t){const e=Math.atan2(n.y,n.x),r=Math.atan2(t.y,t.x)-e,i=-Math.sign(r)*Math.PI*2,s=Math.abs(i+r)<Math.abs(r)?i+r:r;return Math.round(360*s/(2*Math.PI))}function Zr(n,t,{x:e,y:r,w:i,h:s}){Ft(n,t,(()=>{const l=document.createElementNS("http://www.w3.org/2000/svg","rect");return l.x.baseVal.value=e,l.y.baseVal.value=r,l.width.baseVal.value=i,l.height.baseVal.value=s,l}))}function Qo(n,t,e,r){const i=qt(e);if(!i)return;const s=n.idElements[i];if(!s)return;const l=_n(n),a=`${i}_${l.childElementCount}`,u=document.createElementNS("http://www.w3.org/2000/svg","clipPath");u.id=a,(function(c,f){if(c.tagName!=="g")return void c.setAttribute(ie,f);const p=[],v=Pt(c);for(let g=v.length-1;g>=0;g--)p.push(v[g]);for(;p.length>0;){const g=p.pop();g.setAttribute(ie,f);const b=Pt(g);for(let w=b.length-1;w>=0;w--)p.push(b[w])}})(t,a);const h=[],o=Pt(s);for(let c=o.length-1;c>=0;c--){const f=o[c],p=se(n,f,r);h.push({element:f,transform:p})}for(;h.length>0;){const{element:c,transform:f}=h.pop();try{Ko(n,c,u,f)}catch(v){console.error(v)}if(c.tagName==="defs"||c.tagName==="svg"||c.tagName==="clipPath"||c.tagName==="text")continue;const p=Pt(c);for(let v=p.length-1;v>=0;v--){const g=p[v],b=se(n,g,f);h.push({element:g,transform:b})}}u.childNodes.length>0&&l.appendChild(u)}function Ko(n,t,e,r){switch(t.tagName){case"rect":(function(i,s,l,a){const u=s.x.baseVal.value,h=s.y.baseVal.value,o=s.width.baseVal.value,c=s.height.baseVal.value;if(o===0||c===0)return;const f=s.hasAttribute("rx")?s.rx.baseVal.value:null,p=s.hasAttribute("ry")?s.ry.baseVal.value:null,v=document.createElementNS("http://www.w3.org/2000/svg","rect");v.x.baseVal.value=u,v.y.baseVal.value=h,v.width.baseVal.value=o,v.height.baseVal.value=c,f&&(v.rx.baseVal.value=f),p&&(v.ry.baseVal.value=p),Nt(0,a,v),l.appendChild(v)})(0,t,e,r);break;case"circle":(function(i,s,l,a){const u=s.cx.baseVal.value,h=s.cy.baseVal.value,o=s.r.baseVal.value;if(o===0)return;const c=document.createElementNS("http://www.w3.org/2000/svg","circle");c.cx.baseVal.value=u,c.cy.baseVal.value=h,c.r.baseVal.value=o,Nt(0,a,c),l.appendChild(c)})(0,t,e,r);break;case"ellipse":(function(i,s,l,a){const u=s.cx.baseVal.value,h=s.cy.baseVal.value,o=s.rx.baseVal.value,c=s.ry.baseVal.value;if(o===0||c===0)return;const f=document.createElementNS("http://www.w3.org/2000/svg","ellipse");f.cx.baseVal.value=u,f.cy.baseVal.value=h,f.rx.baseVal.value=o,f.ry.baseVal.value=c,Nt(0,a,f),l.appendChild(f)})(0,t,e,r);break;case"polygon":(function(i,s,l,a){const u=document.createElementNS("http://www.w3.org/2000/svg","polygon");u.setAttribute("points",s.getAttribute("points")),Nt(0,a,u),l.appendChild(u)})(0,t,e,r);break;case"path":(function(i,s,l,a){const u=document.createElementNS("http://www.w3.org/2000/svg","path");u.setAttribute("d",s.getAttribute("d")),Nt(0,a,u),l.appendChild(u)})(0,t,e,r)}}function Jo(n,t,e){const r=document.createElementNS("http://www.w3.org/2000/svg","g");r.setAttribute("class","text-container"),Nt(0,e,r);const i=t.cloneNode(!0);i.transform.baseVal.numberOfItems>0&&i.transform.baseVal.clear(),i.removeAttribute("clip-path");const{cssFont:s,fontSize:l}=(function(h,o,c=!1){const f={};let p="";const v=K(h,o,"font-style",h.useElementContext);v&&(p+=c?`font-style: ${v};`:v,f.fontStyle=v);const g=K(h,o,"font-weight",h.useElementContext);g&&(p+=c?`font-weight: ${g};`:` ${g}`,f.fontWeight=g);const b=K(h,o,"font-size",h.useElementContext);if(b&&(p+=c?`font-size: ${b};`:` ${b}`,f.fontSize=b),h.fontFamily)p+=c?`font-family: ${h.fontFamily};`:` ${h.fontFamily}`,f.fontFamiliy=h.fontFamily;else{const w=K(h,o,"font-family",h.useElementContext);w&&(p+=c?`font-family: ${w};`:` ${w}`,f.fontFamiliy=w)}return p=p.trim(),Object.assign(Object.assign({},f),{cssFont:p})})(n,t,!0);if(i.setAttribute("style",(function(...h){let o="";h=h.filter((c=>c!==null));for(const c of h)o.length>0&&o[o.length-1]!==";"&&(o+=";"),o+=c;return o})(i.getAttribute("style"),s)),Hr(n,t,i),i.childElementCount>0){const h=Pt(i),o=Pt(t);for(let c=0;c<h.length;c++){const f=h[c];f instanceof SVGTSpanElement&&Hr(n,o[c],f)}}r.appendChild(i),lt(n,t,r);const a=n.fontFamily!==null,u=i.hasAttribute(ie);a&&u&&l&&(function(h,o,c,f){const{width:p,height:v}=o.getBBox();if(p<=0||v<=0)return;const g=ee(h,c,f,"font-size");ci(h,{w:p},c,g)})(n,t,i,l)}function ci(n,t,e,r){const{w:i}=(function({svgSketch:l,svgSketchIsInDOM:a},u){const h="visibility:hidden;position:absolute;left:-100%;top-100%;",o=l.getAttribute("style");o?l.setAttribute("style",`${o};${h}`):l.setAttribute("style",h);const c=document.body,f=l.parentElement;a||c.appendChild(l);const{width:p,height:v}=u.getBBox();return a||(c.removeChild(l),f&&f.appendChild(l)),o?l.setAttribute("style",o):l.removeAttribute("style"),{w:p,h:v}})(n,e);if(i<t.w||r<=1)return;const s=r-1;e.style.fontSize=`${s}px`,ci(n,t,e,s)}function Hr(n,t,e){const r=K(n,t,"stroke"),i=r?K(n,t,"stroke-width"):null,s=K(n,t,"fill"),l=K(n,t,"dominant-baseline"),a=K(n,t,"text-anchor",n.useElementContext);r&&e.setAttribute("stroke",r),i&&e.setAttribute("stroke-width",i),s&&e.setAttribute("fill",s),a&&e.setAttribute("text-anchor",a),l&&e.setAttribute("dominant-baseline",l)}function fi(n,t,e,r,i){var s,l;const a=[],u={x:0,y:0,w:r??0,h:i??0};if(t instanceof SVGSVGElement||t instanceof SVGSymbolElement||t instanceof SVGMarkerElement){let h=0,o=0;if(t instanceof SVGSymbolElement)h=parseFloat((s=t.getAttribute("x"))!==null&&s!==void 0?s:"")||0,o=parseFloat((l=t.getAttribute("y"))!==null&&l!==void 0?l:"")||0,r=r??(parseFloat(t.getAttribute("width"))||void 0),i=i??(parseFloat(t.getAttribute("height"))||void 0);else if(t instanceof SVGMarkerElement){const v=t.getAttribute("markerWidth"),g=t.getAttribute("markerHeight");r=v!==null?parseFloat(v):3,i=g!==null?parseFloat(g):3}else t!==n.sourceSvg&&(h=t.x.baseVal.value,o=t.y.baseVal.value);let c=n.sourceSvg.createSVGMatrix();if(t.getAttribute("viewBox")){const{x:v,y:g,width:b,height:w}=t.viewBox.baseVal;if(u.x=v,u.y=g,u.w=b,u.h=w,r!==void 0&&i!==void 0){const T=r/b,O=i/w,_=h+.5*r,D=o+.5*i,P=v+.5*b,N=g+.5*w;c=c.translate(_,D),c=t.getAttribute("preserveAspectRatio")==="none"?c.scaleNonUniform(T,O):c.scale(Math.min(T,O)),c=c.translate(-P,-N)}}else c=c.translate(h,o);t instanceof SVGMarkerElement&&(c=c.translate(-t.refX.baseVal.value,-t.refY.baseVal.value));const f=e?e.matrix.multiply(c):c;e=n.sourceSvg.createSVGTransformFromMatrix(f);const p=Pt(t);for(let v=p.length-1;v>=0;v--){const g=p[v];if(g instanceof SVGSymbolElement||g instanceof SVGMarkerElement)continue;const b=se(n,g,e);a.push({element:g,transform:b,viewBox:u})}}else a.push({element:t,transform:e,viewBox:u});for(;a.length>0;){const{element:h,transform:o,viewBox:c}=a.pop();try{n.viewBox=c,ta(n,h,o)}catch(p){console.error(p)}if(h.tagName==="defs"||h.tagName==="symbol"||h.tagName==="marker"||h.tagName==="svg"||h.tagName==="clipPath")continue;const f=Pt(h);for(let p=f.length-1;p>=0;p--){const v=f[p],g=se(n,v,o);a.push({element:v,transform:g,viewBox:c})}}}function ta(n,t,e){if((function(i){const s=i.style;return!!s&&(s.display==="none"||s.visibility==="hidden")})(t))return;const r=t.getAttribute("clip-path");switch(r&&Qo(n,t,r,e),t.tagName){case"svg":case"symbol":(function(i,s,l){let a=parseFloat(s.getAttribute("width")),u=parseFloat(s.getAttribute("height"));(isNaN(a)||isNaN(u))&&(a=u=void 0),fi(i,s,l,a,u)})(n,t,e);break;case"rect":(function(i,s,l){const a=s.x.baseVal.value,u=s.y.baseVal.value,h=s.width.baseVal.value,o=s.height.baseVal.value;if(h===0||o===0)return;let c=s.hasAttribute("rx")?Math.min(Math.max(0,s.rx.baseVal.value),h/2):null,f=s.hasAttribute("ry")?Math.min(Math.max(0,s.ry.baseVal.value),o/2):null;c===null&&f===null||(c=c===null?f:c,f=f===null?c:f);const p=I({x:a,y:u},l),v=I({x:a+h,y:u+o},l),g=v.x-p.x,b=v.y-p.y,w={x:p.x,y:p.y,w:g,h:b};if(!ne(l)&&!hn(l)||c||f){let T="";if(c!==null&&f!==null){const _=1.3333333333333333*(Math.sqrt(2)-1),D=I({x:a+c,y:u},l);T+=`M ${V(D)}`,T+=`L ${V(I({x:a+h-c,y:u},l))}`;const P=I({x:a+h-c+_*c,y:u},l),N=I({x:a+h,y:u+_*f},l),C=I({x:a+h,y:u+f},l);T+=`C ${V(P)} ${V(N)} ${V(C)}`,T+=`L ${V(I({x:a+h,y:u+o-f},l))}`;const R=I({x:a+h,y:u+o-f+_*f},l),W=I({x:a+h-_*c,y:u+o},l),U=I({x:a+h-c,y:u+o},l);T+=`C ${V(R)} ${V(W)} ${V(U)}`,T+=`L ${V(I({x:a+c,y:u+o},l))}`;const z=I({x:a+c-_*c,y:u+o},l),F=I({x:a,y:u+o-_*f},l),H=I({x:a,y:u+o-f},l);T+=`C ${V(z)} ${V(F)} ${V(H)}`,T+=`L ${V(I({x:a,y:u+f},l))}`;const X=I({x:a,y:u+_*f},l),$=I({x:a+_*c,y:u},l);T+=`C ${V(X)} ${V($)} ${V(D)}`,T+="z"}else{const _=I({x:a,y:u},l),D=I({x:a+h,y:u},l),P=I({x:a+h,y:u+o},l),N=I({x:a,y:u+o},l);T+=`M ${V(_)}`,T+=`L ${V(D)}`,T+=`L ${V(P)}`,T+=`L ${V(N)}`,T+="z"}const O=Ee(i,T,wt(i,s,l));Zr(i,s,w),lt(i,s,O)}else{const T=i.rc.rectangle(w.x,w.y,w.w,w.h,wt(i,s,l));Zr(i,s,w),lt(i,s,T)}})(n,t,e);break;case"path":(function(i,s,l){const a=s.getAttribute("d"),u=new E(a).toAbs().transform(Y.NORMALIZE_HVZ()).transform(Y.NORMALIZE_ST()),h=new E(u.commands.map((v=>Object.assign({},v))));l&&h.transform(Y.MATRIX(l.matrix.a,l.matrix.b,l.matrix.c,l.matrix.d,l.matrix.e,l.matrix.f));const o=li(h.commands);if(o.indexOf("undefined")!==-1)return void console.error("broken path data");const c=Ee(i,o,wt(i,s,l));Ft(i,s,(()=>{const v=document.createElementNS("http://www.w3.org/2000/svg","path");return v.setAttribute("d",o),v})),lt(i,s,c);const f=[];let p;u.commands.forEach((v=>{switch(v.type){case E.MOVE_TO:{const g={x:v.x,y:v.y};f.push(g),p=g;break}case E.LINE_TO:case E.QUAD_TO:case E.SMOOTH_QUAD_TO:case E.CURVE_TO:case E.SMOOTH_CURVE_TO:case E.ARC:f.push({x:v.x,y:v.y});break;case E.HORIZ_LINE_TO:f.push({x:v.x,y:0});break;case E.VERT_LINE_TO:f.push({x:0,y:v.y});break;case E.CLOSE_PATH:p&&f.push(p)}})),Me(i,s,f,l)})(n,t,e);break;case"use":(function(i,s,l){let a=s.href.baseVal;a.startsWith("#")&&(a=a.substring(1));const u=i.idElements[a];if(u){let h,o;s.getAttribute("width")&&s.getAttribute("height")&&(h=s.width.baseVal.value,o=s.height.baseVal.value);const c=s.x.baseVal.value,f=s.y.baseVal.value;let p=i.sourceSvg.createSVGMatrix().translate(c,f);p=l?l.matrix.multiply(p):p;const v=i.sourceSvg.createSVGTransformFromMatrix(p);if(i.useElementContext){const g={root:s,referenced:u,parentContext:Object.assign({},i.useElementContext)};i.useElementContext=g}else i.useElementContext={root:s,referenced:u,parentContext:null};i.processElement(i,u,se(i,u,v),h,o),i.useElementContext.parentContext?i.useElementContext=i.useElementContext.parentContext:i.useElementContext=null}})(n,t,e);break;case"line":(function(i,s,l){const a={x:s.x1.baseVal.value,y:s.y1.baseVal.value},u={x:s.x2.baseVal.value,y:s.y2.baseVal.value},{x:h,y:o}=I(a,l),{x:c,y:f}=I(u,l);if(h===c&&o===f)return;const p=i.rc.line(h,o,c,f,wt(i,s,l));Ft(i,s,(()=>{const v=document.createElementNS("http://www.w3.org/2000/svg","line");return v.x1.baseVal.value=h,v.y1.baseVal.value=o,v.x2.baseVal.value=c,v.y2.baseVal.value=f,v})),lt(i,s,p),Me(i,s,[a,u],l)})(n,t,e);break;case"circle":(function(i,s,l){const a=s.cx.baseVal.value,u=s.cy.baseVal.value,h=s.r.baseVal.value;if(h===0)return;const o=I({x:a,y:u},l),c=I({x:a+h,y:u+h},l).x-o.x;let f;if(ne(l)||hn(l))f=i.rc.circle(o.x,o.y,2*c,Object.assign(Object.assign({},wt(i,s,l)),{preserveVertices:!0}));else{const p=1.3333333333333333*(Math.sqrt(2)-1),v=I({x:a+h,y:u},l),g=I({x:a,y:u+h},l),b=I({x:a-h,y:u},l),w=I({x:a,y:u-h},l),T=I({x:a+h,y:u+p*h},l),O=I({x:a+p*h,y:u+h},l),_=I({x:a-h,y:u+p*h},l),D=I({x:a-p*h,y:u-h},l),P=I({x:a+h,y:u-p*h},l);f=Ee(i,`M ${V(v)} C ${V(T)} ${V(O)} ${V(g)} S ${V(_)} ${V(b)} S ${V(D)} ${V(w)} S ${V(P)} ${V(v)}z`,wt(i,s,l))}Ft(i,s,(()=>{const p=document.createElementNS("http://www.w3.org/2000/svg","circle");return p.cx.baseVal.value=o.x,p.cy.baseVal.value=o.y,p.r.baseVal.value=c,p})),lt(i,s,f)})(n,t,e);break;case"ellipse":(function(i,s,l){const a=s.cx.baseVal.value,u=s.cy.baseVal.value,h=s.rx.baseVal.value,o=s.ry.baseVal.value;if(h===0||o===0)return;const c=I({x:a,y:u},l),f=I({x:a+h,y:u+o},l),p=f.x-c.x,v=f.y-c.y;let g;if(ne(l)||hn(l))g=i.rc.ellipse(c.x,c.y,2*p,2*v,Object.assign(Object.assign({},wt(i,s,l)),{preserveVertices:!0}));else{const b=1.3333333333333333*(Math.sqrt(2)-1),w=I({x:a+h,y:u},l),T=I({x:a,y:u+o},l),O=I({x:a-h,y:u},l),_=I({x:a,y:u-o},l),D=I({x:a+h,y:u+b*o},l),P=I({x:a+b*h,y:u+o},l),N=I({x:a-h,y:u+b*o},l),C=I({x:a-b*h,y:u-o},l),R=I({x:a+h,y:u-b*o},l);g=Ee(i,`M ${V(w)} C ${V(D)} ${V(P)} ${V(T)} S ${V(N)} ${V(O)} S ${V(C)} ${V(_)} S ${V(R)} ${V(w)}z`,wt(i,s,l))}Ft(i,s,(()=>{const b=document.createElementNS("http://www.w3.org/2000/svg","ellipse");return b.cx.baseVal.value=c.x,b.cy.baseVal.value=c.y,b.rx.baseVal.value=p,b.ry.baseVal.value=v,b})),lt(i,s,g)})(n,t,e);break;case"polyline":(function(i,s,l){const a=Pr(s),u=a.map((o=>{const c=I(o,l);return[c.x,c.y]})),h=wt(i,s,l);if(Ft(i,s,(()=>{const o=document.createElementNS("http://www.w3.org/2000/svg","polyline");return o.setAttribute("points",u.join(" ")),o})),h.fill&&h.fill!=="none"){const o=Object.assign(Object.assign({},h),{stroke:"none"});lt(i,s,i.rc.polygon(u,o))}lt(i,s,i.rc.linearPath(u,h)),Me(i,s,a,l)})(n,t,e);break;case"polygon":(function(i,s,l){const a=Pr(s),u=a.map((o=>{const c=I(o,l);return[c.x,c.y]})),h=i.rc.polygon(u,wt(i,s,l));Ft(i,s,(()=>{const o=document.createElementNS("http://www.w3.org/2000/svg","polygon");return o.setAttribute("points",u.join(" ")),o})),lt(i,s,h),a.length>0&&(a.push(a[0]),Me(i,s,a,l))})(n,t,e);break;case"text":Jo(n,t,e);break;case"image":(function(i,s,l){const a=s.href.baseVal,u=s.x.baseVal.value,h=s.y.baseVal.value;let o,c;if(s.getAttribute("width")&&s.getAttribute("height")&&(o=s.width.baseVal.value,c=s.height.baseVal.value),a.startsWith("data:")&&a.indexOf("image/svg+xml")!==-1){const f=/^data:([^,]*),(.*)/.exec(a);if(f&&f.length>2){const p=f[1];let v=f[2];const g=p.indexOf("base64")!==-1,b=p.indexOf("utf8")!==-1;g&&(v=atob(v)),b||(v=decodeURIComponent(v));const w=new DOMParser().parseFromString(v,"image/svg+xml").firstChild;let T=i.sourceSvg.createSVGMatrix().translate(u,h);T=l?l.matrix.multiply(T):T,i.processElement(i,w,i.sourceSvg.createSVGTransformFromMatrix(T),o,c)}}else{const f=s.cloneNode(),p=document.createElementNS("http://www.w3.org/2000/svg","g");Nt(0,l,p),p.appendChild(f),lt(i,s,p)}})(n,t,e);break;case"foreignObject":(function(i,s,l){const a=s.cloneNode(!0),u=document.createElementNS("http://www.w3.org/2000/svg","g"),h=["color","font-family","font-size","font-style","font-variant","font-weight"],o=getComputedStyle(s);for(const c of h)u.style.setProperty(c,o.getPropertyValue(c));a.transform.baseVal.clear(),Nt(0,l,u),u.appendChild(a),lt(i,a,u)})(n,t,e)}}class ea{constructor(t){this.rng=t?new jr(t):null}next(t){var e,r;const i=(r=(e=this.rng)===null||e===void 0?void 0:e.next())!==null&&r!==void 0?r:Math.random();if(t){const s=t[0];return i*(t[1]-s)+s}return i}}class na{set svg(t){this.$svg!==t&&(this.$svg=t,this.sourceSvgChanged())}get svg(){return this.$svg}set outputType(t){if(this.$outputType!==t){if(t===Ot.CANVAS&&this.outputElement instanceof SVGSVGElement||t===Ot.SVG&&this.outputElement instanceof HTMLCanvasElement)throw new Error(`Output format ${t} incompatible with given output element ${this.outputElement.tagName}`);this.$outputType=t}}get outputType(){return this.$outputType}set roughConfig(t){t.fixedDecimalPlaceDigits===void 0&&(t.fixedDecimalPlaceDigits=3),this.$roughConfig=t}get roughConfig(){return this.$roughConfig}constructor(t,e=Ot.SVG,r={}){if(this.backgroundColor=null,this.fontFamily="Comic Sans MS, cursive",this.randomize=!0,this.seed=null,this.sketchPatterns=!0,this.pencilFilter=!1,this.width=0,this.height=0,this.$roughConfig={},this.idElements={},this.lastResult=null,!t)throw new Error("No target provided");const i=typeof t=="string"?document.querySelector(t):t;if(!i)throw new Error("Could not find target in document");this.roughConfig=r,this.outputElement=i,i instanceof HTMLCanvasElement?this.$outputType=Ot.CANVAS:i instanceof SVGSVGElement?this.$outputType=Ot.SVG:this.$outputType=e}sketch(t=!1){var e,r;if(!this.svg)return Promise.resolve(null);t&&this.sourceSvgChanged();const i=this.prepareRenderContainer(),s=this.createRenderContext(i);if(this.pencilFilter&&_n(s).appendChild((function(){const l=document.createElementNS("http://www.w3.org/2000/svg","filter");l.setAttribute("id","pencilTextureFilter"),l.setAttribute("x","0%"),l.setAttribute("y","0%"),l.setAttribute("width","100%"),l.setAttribute("height","100%"),l.setAttribute("filterUnits","objectBoundingBox");const a=document.createElementNS("http://www.w3.org/2000/svg","feTurbulence");a.setAttribute("type","fractalNoise"),a.setAttribute("baseFrequency","2"),a.setAttribute("numOctaves","5"),a.setAttribute("stitchTiles","stitch"),a.setAttribute("result","f1"),l.appendChild(a);const u=document.createElementNS("http://www.w3.org/2000/svg","feColorMatrix");u.setAttribute("type","matrix"),u.setAttribute("values","0 0 0 0 0, 0 0 0 0 0, 0 0 0 0 0, 0 0 0 -1.5 1.5"),u.setAttribute("result","f2"),l.appendChild(u);const h=document.createElementNS("http://www.w3.org/2000/svg","feComposite");return h.setAttribute("operator","in"),h.setAttribute("in","SourceGraphic"),h.setAttribute("in2","f2"),h.setAttribute("result","f3"),l.appendChild(h),l})()),s.processElement(s,this.svg,null,this.width,this.height),this.outputElement instanceof SVGSVGElement)return Promise.resolve(this.outputElement);if(this.outputElement instanceof HTMLCanvasElement)return this.drawToCanvas(s,this.outputElement);if((r=(e=this.lastResult)===null||e===void 0?void 0:e.parentNode)===null||r===void 0||r.removeChild(this.lastResult),this.outputType===Ot.SVG){const l=s.svgSketch;return this.outputElement.appendChild(l),this.lastResult=l,Promise.resolve(l)}{const l=document.createElement("canvas");return this.outputElement.appendChild(l),this.lastResult=l,this.drawToCanvas(s,l)}}createRenderContext(t){if(!this.svg)throw new Error("No source SVG set yet.");let e=this.roughConfig;return this.seed!==null&&(e=Object.assign({seed:this.seed},e)),{rc:mo.svg(t,{options:e}),roughConfig:this.roughConfig,fontFamily:this.fontFamily,pencilFilter:this.pencilFilter,randomize:this.randomize,rng:new ea(this.seed),sketchPatterns:this.sketchPatterns,idElements:this.idElements,sourceSvg:this.svg,svgSketch:t,svgSketchIsInDOM:document.body.contains(t),styleSheets:Array.from(this.svg.querySelectorAll("style")).map((r=>r.sheet)).filter((r=>r!==null)),processElement:fi}}drawToCanvas(t,e){e.width=this.width,e.height=this.height;const r=e.getContext("2d");return r.clearRect(0,0,this.width,this.height),new Promise((i=>{const s=new XMLSerializer().serializeToString(t.svgSketch),l=new Image;l.onload=function(){r.drawImage(this,0,0),i(e)},l.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(s)}`}))}prepareRenderContainer(){let t,e;for(t=this.outputElement instanceof SVGSVGElement?this.outputElement:document.createElementNS("http://www.w3.org/2000/svg","svg"),t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");t.firstChild;)t.removeChild(t.firstChild);return t.setAttribute("width",this.width.toString()),t.setAttribute("height",this.height.toString()),this.backgroundColor&&(e=document.createElementNS("http://www.w3.org/2000/svg","rect"),e.width.baseVal.value=this.width,e.height.baseVal.value=this.height,e.setAttribute("fill",this.backgroundColor),t.appendChild(e)),t.setAttribute("stroke-linecap","round"),t}sourceSvgChanged(){const t=this.$svg;if(t){const e=this.roughConfig.fixedDecimalPlaceDigits;this.width=parseFloat(this.coerceSize(t,"width",300).toFixed(e)),this.height=parseFloat(this.coerceSize(t,"height",150).toFixed(e)),this.collectElementsWithID()}}collectElementsWithID(){this.idElements={};const t=Array.prototype.slice.apply(this.svg.querySelectorAll("*[id]"));for(const e of t){const r=e.getAttribute("id");r&&(this.idElements[r]=e)}}coerceSize(t,e,r){let i=r;const s=t.hasAttribute("viewBox");return t.hasAttribute(e)?i=t[e].baseVal.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&s?t.viewBox.baseVal[e]:t[e].baseVal.value:s&&(i=t.viewBox.baseVal[e]),i}}var ra=ns('<!> <div id="view"><div id="container" class="h-full overflow-auto"></div></div>',1);function fa(n,t){Ur(t,!0);const[e,r]=gs(),i=()=>ir(er,"$inputStateStore",e),s=()=>ir(ds,"$mode",e);let l=nr(t,"panZoomState",23,()=>new Vs),a=nr(t,"shouldShowGrid",3,!0),u="",h="",o=ye(void 0),c,f=ye(void 0),p=ye(!1),v=!0,g=!0,b=ye(void 0);const w=()=>{l().onPanZoomChange=(C,R)=>{cs({pan:C,zoom:R})}},T=(C,R)=>{try{l().updateElement(R,C)}catch(W){console.error("PanZoom error:",W)}},O=async C=>{const R=Date.now();if(C.error!==void 0){Lt(p,!0);return}Lt(p,!1);let W;try{if(ft(o)){if(g=!0,u===C.code&&h===C.mermaid&&c===C.rough&&v===C.panZoom||!Ss())return;u=C.code,h=C.mermaid,c=C.rough,v=C.panZoom??!0,Ds(u)&&await ft(b)?.();const z=ft(f)?.parentElement?.scrollTop;delete ft(o).dataset.processed;const F=bs("graph-"),{svg:H,bindFunctions:X,diagramType:$}=await fs(JSON.parse(C.mermaid),u,F);if(W=$,H.length>0){ft(o).innerHTML=H;let q=document.querySelector(`#${F}`);if(!q)throw new Error("graph-div not found");if(C.rough){const tt=new na("#container");tt.svg=q,await tt.sketch(),q.remove();const Z=document.querySelector("#container > svg");if(!Z)throw new Error("sketch not found");const G=Z.getAttribute("height"),rt=Z.getAttribute("width");Z.setAttribute("id","graph-div"),Z.setAttribute("height","100%"),Z.setAttribute("width","100%"),Z.setAttribute("viewBox",`0 0 ${rt} ${G}`),Z.style.maxWidth="100%",q=Z}else q.setAttribute("height","100%"),q.style.maxWidth="100%",X&&X(q);C.panZoom&&T(C,q)}ft(f)?.parentElement&&z&&(ft(f).parentElement.scrollTop=z),Lt(p,!1)}else g&&(g=!1)}catch(z){console.error("view fail",z),Lt(p,!0)}const U=Date.now()-R;ps({code:u,diagramType:W,isRough:C.rough,renderTime:U}),Ms(U,()=>{vs(er,tr(i).updateDiagram=!0,tr(i))})};es(()=>{w();let C=Promise.resolve();ls.subscribe(R=>{C=C.then(()=>O(R).catch(()=>{}))})});var _=ra(),D=qr(_);Ls(D,{get waitForFontAwesomeToLoad(){return ft(b)},set waitForFontAwesomeToLoad(C){Lt(b,C,!0)}});var P=is(D,2),N=ss(P);rr(N,C=>Lt(o,C),()=>ft(o)),os(P),rr(P,C=>Lt(f,C),()=>ft(f)),rs(()=>us(P,1,hs(["h-full w-full",a()&&`grid-bg-${s()}`,ft(p)&&"opacity-50"]),"svelte-rx3fj1")),Gr(n,_),Br(),r()}export{Vs as P,fa as V,ca as w};
